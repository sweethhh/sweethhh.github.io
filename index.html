<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>你家谷谷</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我来不及认真地年轻，待明白过来时，只能选择认真地老去。">
<meta property="og:type" content="website">
<meta property="og:title" content="你家谷谷">
<meta property="og:url" content="http://houhonggu.top/index.html">
<meta property="og:site_name" content="你家谷谷">
<meta property="og:description" content="我来不及认真地年轻，待明白过来时，只能选择认真地老去。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="你家谷谷">
<meta name="twitter:description" content="我来不及认真地年轻，待明白过来时，只能选择认真地老去。">
  
    <link rel="alternative" href="/atom.xml" title="你家谷谷" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.jpg">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">你家谷谷</a></h1>
        </hgroup>
        
        <p class="header-subtitle">And I know it&#39;s long gone and there was nothing else I could do.</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/">主页 | Index</a></li>
                        
                            <li><a  href="/archives">归档 | Archives</a></li>
                        
                            <li><a  href="/about">关于 | About</a></li>
                        
                            <li><a  href="/resume">简历 | Resume</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/sweethhh" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/5205287645/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Bootstrap/" style="font-size: 18px;">Bootstrap</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/CSS3/" style="font-size: 16px;">CSS3</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HTML5/" style="font-size: 14px;">HTML5</a> <a href="/tags/JavaScript/" style="font-size: 12px;">JavaScript</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/Vue，框架/" style="font-size: 10px;">Vue，框架</a> <a href="/tags/ajax/" style="font-size: 10px;">ajax</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/tags/交互/" style="font-size: 10px;">交互</a> <a href="/tags/命令/" style="font-size: 10px;">命令</a> <a href="/tags/图片加载/" style="font-size: 10px;">图片加载</a> <a href="/tags/坑/" style="font-size: 10px;">坑</a> <a href="/tags/字体图标/" style="font-size: 10px;">字体图标</a> <a href="/tags/定时器/" style="font-size: 10px;">定时器</a> <a href="/tags/常见问题/" style="font-size: 10px;">常见问题</a> <a href="/tags/思想/" style="font-size: 10px;">思想</a> <a href="/tags/框架/" style="font-size: 20px;">框架</a> <a href="/tags/移动端/" style="font-size: 16px;">移动端</a> <a href="/tags/移动端，框架/" style="font-size: 12px;">移动端，框架</a> <a href="/tags/请求，异步/" style="font-size: 10px;">请求，异步</a> <a href="/tags/项目/" style="font-size: 10px;">项目</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://hexo.io/">Hexo</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.moqingchen.com/">BF&#39;blog</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">我自是年少，韶华倾负。</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">你家谷谷</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">你家谷谷</a></h1>
            </hgroup>
            
            <p class="header-subtitle">And I know it&#39;s long gone and there was nothing else I could do.</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页 | Index</a></li>
                
                    <li><a href="/archives">归档 | Archives</a></li>
                
                    <li><a href="/about">关于 | About</a></li>
                
                    <li><a href="/resume">简历 | Resume</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/sweethhh" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/5205287645/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-NodeJs笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/30/NodeJs笔记/" class="article-date">
      <time datetime="2018-05-30T07:06:03.407Z" itemprop="datePublished">2018-05-30</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/30/NodeJs笔记/">NodeJs笔记</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h1><blockquote>
<p>一个包管理工具</p>
</blockquote>
<p>使用淘宝镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm i nrm -g</div><div class="line"></div><div class="line">nrm use taobao</div></pre></td></tr></table></figure></p>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><p><code>npm init</code><br>初始化项目生成package.json文件</p>
<p><code>npm set</code><br>用来设置环境变量</p>
<p><code>node_modules</code><br>通过npm安装的依赖包文件夹</p>
<p><code>npm config</code><br>文件配置项</p>
<h1 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h1><h2 id="全局对象"><a href="#全局对象" class="headerlink" title="全局对象"></a>全局对象</h2><ol>
<li><code>console.log</code>中的<code>console</code>是一个全局对象。</li>
</ol>
<p>调用方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node app</div></pre></td></tr></table></figure></p>
<p><code>app</code>是文件名</p>
<ol>
<li><code>setTimeout()</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">setTimeout(()=&gt;&#123;</div><div class="line">	console.log(&apos;hello world&apos;);</div><div class="line">&#125;,3000);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">setInterval(()=&gt;&#123;</div><div class="line">	console.log(&apos;hello world&apos;);</div><div class="line">&#125;,1000);</div></pre></td></tr></table></figure>
<ol>
<li>输出当前目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(__dirname);</div></pre></td></tr></table></figure>
</li>
</ol>
<p><code>ls</code>查看目录下文件</p>
<ol>
<li><p>输出当前文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(__filename);</div></pre></td></tr></table></figure>
</li>
<li><p>require exports(模块)</p>
</li>
</ol>
<h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function sayHi(name)&#123;</div><div class="line">	console.log(name);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function callFunction(fun,name)&#123;</div><div class="line">	fun(name);</div><div class="line">&#125;</div><div class="line"></div><div class="line">callFunction(sayHi,&apos;gg&apos;);</div></pre></td></tr></table></figure>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>导入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">module.exports.count=count;</div><div class="line">module.exports.a=a;</div><div class="line">module.exports.b=b;</div></pre></td></tr></table></figure></p>
<p>导入一个对象，<code>module.exports</code>是一个对象</p>
<p>导出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var stuff=require(&apos;./count&apos;);</div><div class="line"></div><div class="line">console.log(stuff.count([&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]));</div><div class="line">console.log(stuff.a(3,15));</div><div class="line">console.log(stuff.b);</div></pre></td></tr></table></figure></p>
<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><ol>
<li><p>首先引入一个<code>node</code>的<code>events</code>库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var events = require(&apos;events&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>创建事件对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var myEmitter = new events.EventEmitter(); // 新建对象</div></pre></td></tr></table></figure>
</li>
<li><p>设定事件的回调方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">myEmitter.on(&apos;someEvent&apos;,function(message)&#123; // 触发事件回调函数</div><div class="line">	console.log(message);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>手动触发</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">myEmitter.emit(&apos;someEvent&apos;,&apos;The event was emitted.&apos;); // 手动触发</div></pre></td></tr></table></figure>
</li>
</ol>
<p><em>事件实例</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">var events = require(&apos;events&apos;); </div><div class="line">var util = require(&apos;util&apos;); // 工具库</div><div class="line"></div><div class="line">var Person = function(name)&#123;</div><div class="line">	this.name=name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">util.inherits(Person,events.EventEmitter); // 继承（Person继承events.EventEmitter）</div><div class="line"></div><div class="line">var xiaoming = new Person(&apos;xiaoming&apos;);</div><div class="line">var lili = new Person(&apos;lili&apos;);</div><div class="line">var lucy = new Person(&apos;lucy&apos;);// 新建对象</div><div class="line"></div><div class="line">var person = [xiaoming,lili,lucy]; // 新建数组存储对象</div><div class="line"></div><div class="line">person.forEach(function(person)&#123; // 挨个绑定触发事件时的回调函数</div><div class="line">	person.on(&apos;speak&apos;,function(message)&#123; </div><div class="line">		console.log(person.name + &apos; said: &apos; + message);</div><div class="line">	&#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">xiaoming.emit(&apos;speak&apos;,&apos;hi.&apos;);</div><div class="line">lili.emit(&apos;speak&apos;,&apos;yeah.&apos;);</div><div class="line">lucy.emit(&apos;speak&apos;,&apos;I am a girl.&apos;); // 立即执行事件</div></pre></td></tr></table></figure>
<h1 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h1><h2 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h2><p><strong><em>读取</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;); //引入库</div><div class="line"></div><div class="line">var readMe=fs.readFileSync(&apos;README&apos;,&apos;utf-8&apos;); // 同步读取文件。两个参数，一个是文件路径，一个是编码格式</div><div class="line"></div><div class="line">console.log(readMe); // 输出内容</div></pre></td></tr></table></figure>
<p><strong><em>写文件</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line"></div><div class="line">var readMe=fs.readFileSync(&apos;README&apos;,&apos;utf-8&apos;);</div><div class="line">// console.log(readMe);</div><div class="line"></div><div class="line">fs.writeFileSync(&apos;WRITEME.txt&apos;,&apos;readMe&apos;);</div></pre></td></tr></table></figure>
<h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line"></div><div class="line">var readMe=fs.readFile(&apos;README&apos;,&apos;utf-8&apos;,function(err,data)&#123;</div><div class="line">	console.log(data);</div><div class="line">&#125;);</div><div class="line">console.log(&apos;finished&apos;);</div></pre></td></tr></table></figure>
<p>先输出finishied,再输出文件内容。<br>（I/O操作很耗时，不能因此阻塞。所以开启另一个线程完成I/O操作，成功后再通知主线程。）</p>
<ul>
<li>异步方法都需要加回调函数</li>
</ul>
<h1 id="创建和删除目录"><a href="#创建和删除目录" class="headerlink" title="创建和删除目录"></a>创建和删除目录</h1><p><strong><em>删除文件</em></strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fs.unlink(&apos;WRITEME.txt&apos;,function()&#123;</div><div class="line">	console.log(&quot;delete WRITEME.txt file.&quot;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p><strong><em>新建目录</em></strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fs.mkdirSync(&apos;newDir&apos;);</div></pre></td></tr></table></figure></p>
<p><strong><em>删除目录</em></strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fs.rmdirSync(&apos;newDir&apos;);</div></pre></td></tr></table></figure></p>
<p>(以上对目录的操作方法都是同步的)</p>
<p>(异步方法↓↓↓)<br>新建一个文件目录，将README的文件内容写到新建的一个WRITEME.txt中，然后放入新建的文件目录中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">fs.mkdir(&apos;newDir&apos;,function()&#123;</div><div class="line">	fs.readFile(&apos;README&apos;,&apos;utf-8&apos;,function(err,data)&#123;</div><div class="line">		fs.writeFile(&apos;./newDir/WRITEME.txt&apos;,data,function()&#123;</div><div class="line">			console.log(&apos;copy success&apos;);</div><div class="line">		&#125;);</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="流和管道"><a href="#流和管道" class="headerlink" title="流和管道"></a>流和管道</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/nodejs/">nodejs</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node/">Node</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-Vue补充2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/28/Vue补充2/" class="article-date">
      <time datetime="2018-05-28T09:18:28.310Z" itemprop="datePublished">2018-05-28</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/28/Vue补充2/">vue补充2</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>关于VUE一些重点知识的补充学习。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/vue/">vue</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/05/28/Vue补充2/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-vue收银系统项目笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/27/vue收银系统项目笔记/" class="article-date">
      <time datetime="2018-05-27T08:03:31.708Z" itemprop="datePublished">2018-05-27</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/27/vue收银系统项目笔记/">vue收银系统项目笔记</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="项目图标"><a href="#项目图标" class="headerlink" title="项目图标"></a>项目图标</h1><p><a href="http://www.iconfont.cn" target="_blank" rel="external">http://www.iconfont.cn</a></p>
<p>添加图标后引入css在index.html中。</p>
<p><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://at.alicdn.com/t/font_682916_5n99e6miamtxzuxr.css&quot;&gt;</code></p>
<p>使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;i  class=&quot;icon iconfont icon-hanbao&quot;&gt;&lt;/i&gt;</div></pre></td></tr></table></figure></p>
<h1 id="Element组件库"><a href="#Element组件库" class="headerlink" title="Element组件库"></a>Element组件库</h1><p>安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install element-ui --save</div></pre></td></tr></table></figure></p>
<p>引入<br>main.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import ElementUI from &apos;element-ui&apos;</div><div class="line">import &apos;element-ui/lib/theme-default/index.css&apos;</div></pre></td></tr></table></figure></p>
<h1 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h1><p>一种异步请求方式<br>安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install axios --save</div></pre></td></tr></table></figure></p>
<p>引入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import axios from &apos;axios&apos;</div></pre></td></tr></table></figure></p>
<p>拉取(在创建元素钩子函数中写)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">created:function()&#123;</div><div class="line">    // 拉取常用商品</div><div class="line">    axios.get(&apos;http://jspang.com/DemoApi/oftenGoods.php&apos;)</div><div class="line">    .then(response=&gt;&#123;</div><div class="line">      if(response.status==200)&#123;</div><div class="line">        this.oftenGoods=response.data;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    .catch(error=&gt;&#123;</div><div class="line">      alert(&quot;Net Error!&quot;);</div><div class="line">    &#125;);</div><div class="line">    // 拉取分类商品数据</div><div class="line">    axios.get(&apos;http://jspang.com/DemoApi/typeGoods.php&apos;)</div><div class="line">    .then(response=&gt;&#123;</div><div class="line">      if(response.status==200)&#123;</div><div class="line">      console.log(response.data);</div><div class="line">      //this.oftenGoods=response.data;</div><div class="line">         this.type0Goods=response.data[0];</div><div class="line">         this.type1Goods=response.data[1];</div><div class="line">         this.type2Goods=response.data[2];</div><div class="line">         this.type3Goods=response.data[3];</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    .catch(error=&gt;&#123;</div><div class="line">      alert(&quot;Net Error!&quot;);</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div></pre></td></tr></table></figure></p>
<h1 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run build</div></pre></td></tr></table></figure>
<p>将项目打包到dist文件目录下，以供生产环境使用。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/vue/">vue</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/项目/">项目</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-VUE补充" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/26/VUE补充/" class="article-date">
      <time datetime="2018-05-26T05:17:38.532Z" itemprop="datePublished">2018-05-26</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/26/VUE补充/">vue补充</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="全局api"><a href="#全局api" class="headerlink" title="全局api"></a>全局api</h1><blockquote>
<p>Vue提供给我们的API函数来定义新的功能。</p>
</blockquote>
<h2 id="vue-directive"><a href="#vue-directive" class="headerlink" title="vue.directive"></a>vue.directive</h2><p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.directive(&apos;gg&apos;,function(el,binding)&#123;</div><div class="line">		el.style=&apos;color:&apos;+binding.value;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure></p>
<p><code>el</code>:指当前元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(el);//&lt;span&gt;10&lt;/span&gt;</div></pre></td></tr></table></figure></p>
<p><code>binding</code>:是一个对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(binding);//&#123;name: &quot;gg&quot;, rawName: &quot;v-gg&quot;, value: &quot;red&quot;, expression: &quot;color&quot;, modifiers: &#123;…&#125;, …&#125;</div></pre></td></tr></table></figure></p>
<p>还有一个参数是<code>vnode</code><br><code>vnode</code>:Vue编译生成的虚拟节点。</p>
<h2 id="自定义指令生命周期钩子函数"><a href="#自定义指令生命周期钩子函数" class="headerlink" title="自定义指令生命周期钩子函数"></a>自定义指令生命周期钩子函数</h2><ol>
<li>bind:只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个绑定时执行一次的初始化动作。</li>
<li>inserted:被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于document中）。</li>
<li>update:被绑定于元素所在的模板更新时调用，而无论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新。</li>
<li>componentUpdated:被绑定元素所在模板完成一次更新周期时调用。</li>
<li>unbind:只调用一次，指令与元素解绑时调用。</li>
</ol>
<p>使用时将第二个参数变成一个对象：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Vue.directive(&apos;gg&apos;,&#123;</div><div class="line">		bind:function()&#123;//被绑定</div><div class="line">		     console.log(&apos;1 - bind&apos;);</div><div class="line">		&#125;,</div><div class="line">		inserted:function()&#123;//绑定到节点</div><div class="line">		      console.log(&apos;2 - inserted&apos;);</div><div class="line">		&#125;,</div><div class="line">		update:function()&#123;//组件更新</div><div class="line">		      console.log(&apos;3 - update&apos;);</div><div class="line">		&#125;,</div><div class="line">		componentUpdated:function()&#123;//组件更新完成</div><div class="line">		      console.log(&apos;4 - componentUpdated&apos;);</div><div class="line">		&#125;,</div><div class="line">		unbind:function()&#123;//解绑</div><div class="line">		      console.log(&apos;5 - unbind&apos;);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="Vue-extend"><a href="#Vue-extend" class="headerlink" title="Vue.extend"></a>Vue.extend</h1><blockquote>
<p>扩展实例构造器，就是预设了部分选项的Vue实例构造器。服务于Vue.component用来生成组件。</p>
</blockquote>
<ol>
<li><p>创建extend</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// 构造器扩展</div><div class="line">	var authorExtend = Vue.extend(&#123;</div><div class="line">		templete:&quot;&lt;p&gt;&lt;a :href=&apos;authorUrl&apos;&gt;&#123;&#123; authorName &#125;&#125;&lt;/p&gt;&quot;,</div><div class="line">		data:function()&#123;</div><div class="line">			return&#123;</div><div class="line">				authorName:&apos;gg&apos;,</div><div class="line">				authorUrl:&apos;http://houhonggu.top&apos;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>绑定标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 绑定</div><div class="line">	new authorExtend().$mount(&quot;author&quot;);</div></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>建议使用id进行绑定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;author&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="Vue-set"><a href="#Vue-set" class="headerlink" title="Vue.set"></a>Vue.set</h1><blockquote>
<p>Vue.set 的作用就是在构造器外部操作构造器内部的数据、属性或者方法。</p>
</blockquote>
<h2 id="在外部改变数据"><a href="#在外部改变数据" class="headerlink" title="在外部改变数据"></a>在外部改变数据</h2><ol>
<li><p>用Vue.set改变</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function add()&#123;</div><div class="line">      Vue.set(outData,&apos;count&apos;,4);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Vue对象的方法添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.count++;</div></pre></td></tr></table></figure>
</li>
<li><p>直接操作外部数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">outData.count++;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>但由于JS的限制，Vue不能自动检测变动数组</p>
<ol>
<li>当你利用索引直接设置一个项时，vue不会为我们自动更新。</li>
<li>当你修改数组的长度时，vue不会为我们自动更新。</li>
</ol>
<p>方法：使用<code>Vue.set</code></p>
<h1 id="Vue生命周期钩子函数"><a href="#Vue生命周期钩子函数" class="headerlink" title="Vue生命周期钩子函数"></a>Vue生命周期钩子函数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">beforeCreate:function()&#123;</div><div class="line">    console.log(&apos;1-beforeCreate 初始化之前&apos;);</div><div class="line">&#125;,</div><div class="line">created:function()&#123;</div><div class="line">    console.log(&apos;2-created 创建完成&apos;);</div><div class="line">&#125;,</div><div class="line">beforeMount:function()&#123;</div><div class="line">    console.log(&apos;3-beforeMount 挂载之前&apos;);</div><div class="line">&#125;,</div><div class="line">mounted:function()&#123;</div><div class="line">    console.log(&apos;4-mounted 被挂载后&apos;);</div><div class="line">&#125;,</div><div class="line">beforeUpdate:function()&#123;</div><div class="line">    console.log(&apos;5-beforeUpdate 数据更新前&apos;);</div><div class="line">&#125;,</div><div class="line">updated:function()&#123;</div><div class="line">    console.log(&apos;6-updated 被更新后&apos;);</div><div class="line"></div><div class="line">&#125;,</div><div class="line">activated:function()&#123;</div><div class="line">    console.log(&apos;7-activated&apos;);</div><div class="line">&#125;,</div><div class="line">deactivated:function()&#123;</div><div class="line">    console.log(&apos;8-deactivated&apos;);</div><div class="line">&#125;,</div><div class="line">beforeDestroy:function()&#123;</div><div class="line">    console.log(&apos;9-beforeDestroy 销毁之前&apos;);</div><div class="line">&#125;,</div><div class="line">destroyed:function()&#123;</div><div class="line">    console.log(&apos;10-destroyed 销毁之后&apos;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>常用用法：<code>loading</code></p>
</blockquote>
<p>初始化前<code>beforeCreate</code>,添加加载动画，挂载完成<code>mounted</code>清除加载动画。</p>
<h1 id="templete模板"><a href="#templete模板" class="headerlink" title="templete模板"></a>templete模板</h1><blockquote>
<p>不建议直接在构造器后面写templete（虽然理论上可以）</p>
</blockquote>
<h2 id="写在templete中"><a href="#写在templete中" class="headerlink" title="写在templete中"></a>写在templete中</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;template id=&quot;demo2&quot;&gt;</div><div class="line">             &lt;h2 style=&quot;color:red&quot;&gt;我是template标签模板&lt;/h2&gt;</div><div class="line">    &lt;/template&gt;</div><div class="line"> </div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        var app=new Vue(&#123;</div><div class="line">            el:&apos;#app&apos;,</div><div class="line">            data:&#123;</div><div class="line">                message:&apos;hello Vue!&apos;</div><div class="line">            &#125;,</div><div class="line">            template:&apos;#demo2&apos;</div><div class="line">        &#125;)</div><div class="line">    &lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="写在script中"><a href="#写在script中" class="headerlink" title="写在script中"></a>写在script中</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;x-template&quot; id=&quot;demo3&quot;&gt;</div><div class="line">    &lt;h2 style=&quot;color:red&quot;&gt;我是script标签模板&lt;/h2&gt;</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var app=new Vue(&#123;</div><div class="line">        el:&apos;#app&apos;,</div><div class="line">        data:&#123;</div><div class="line">            message:&apos;hello Vue!&apos;</div><div class="line">        &#125;,</div><div class="line">        template:&apos;#demo3&apos;</div><div class="line">    &#125;)</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h1 id="组件component"><a href="#组件component" class="headerlink" title="组件component"></a>组件component</h1><blockquote>
<p>组件就是制作自定义标签，这些标签在html中是没有的。</p>
<ul>
<li>必须在作用域中调用<br>全局组件：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;gg&gt;&lt;/gg&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/vue.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    Vue.component(&apos;gg&apos;,&#123;</div><div class="line">        template :  `&lt;div style=&quot;color:red;&quot;&gt;全局化注册的jspang标签&lt;/div&gt;`</div><div class="line">    &#125;);</div><div class="line">    var app=new Vue(&#123;</div><div class="line">        el:&apos;#app&apos;,</div><div class="line">        data:&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<p>局部组件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var app=new Vue(&#123;</div><div class="line">       el:&apos;#app&apos;,</div><div class="line">       data:&#123;</div><div class="line"></div><div class="line">       &#125;,</div><div class="line">       components:&#123;</div><div class="line">           &quot;panda&quot; : &#123;</div><div class="line">               template :  `&lt;div style=&quot;color:red;&quot;&gt;局部标签&lt;/div&gt;`</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">   &#125;);</div></pre></td></tr></table></figure></p>
<h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><blockquote>
<p>定义有属性的组件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;panda here=&quot;chinaa&quot;&gt;&lt;/panda&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/vue.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var app=new Vue(&#123;</div><div class="line">        el:&apos;#app&apos;,</div><div class="line">        data:&#123;</div><div class="line"></div><div class="line">        &#125;,</div><div class="line">        components:&#123;</div><div class="line">            &quot;panda&quot; : &#123;</div><div class="line">                props:[ &apos;here&apos; ],</div><div class="line">                template :  `&lt;div style=&quot;color:red;&quot;&gt;局部标签&#123;&#123; here &#125;&#125;&lt;/div&gt;`</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="将构造器中的值传递给组件"><a href="#将构造器中的值传递给组件" class="headerlink" title="将构造器中的值传递给组件"></a>将构造器中的值传递给组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;panda v-bind:here=&quot;message&quot;&gt;&lt;/panda&gt;</div><div class="line">// or</div><div class="line">&lt;panda :here=&quot;message&quot;&gt;&lt;/panda&gt;</div></pre></td></tr></table></figure>
<h2 id="构造器外部注册局部组件"><a href="#构造器外部注册局部组件" class="headerlink" title="构造器外部注册局部组件"></a>构造器外部注册局部组件</h2><ul>
<li><p>在外部声明一个对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var jspang = &#123;</div><div class="line">   template:`&lt;div&gt;Panda from China!&lt;/div&gt;`</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>在构造器中引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">components:&#123;</div><div class="line">    &quot;jspang&quot;:jspang</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="父子组件的嵌套"><a href="#父子组件的嵌套" class="headerlink" title="父子组件的嵌套"></a>父子组件的嵌套</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;../assets/js/vue.js&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;title&gt;component-3&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;h1&gt;component-3&lt;/h1&gt;</div><div class="line">    &lt;hr&gt;</div><div class="line">    &lt;div id=&quot;app&quot;&gt;</div><div class="line">      &lt;jspang&gt;&lt;/jspang&gt;  </div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">       var city=&#123;</div><div class="line">           template:`&lt;div&gt;Sichuan of China&lt;/div&gt;`</div><div class="line">       &#125;</div><div class="line">        var jspang = &#123;</div><div class="line">            template:`&lt;div&gt;</div><div class="line">                    &lt;p&gt; Panda from China!&lt;/p&gt;</div><div class="line">                    &lt;city&gt;&lt;/city&gt;</div><div class="line">            &lt;/div&gt;`,</div><div class="line">            components:&#123;</div><div class="line">                &quot;city&quot;:city</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        var app=new Vue(&#123;</div><div class="line">            el:&apos;#app&apos;,</div><div class="line">            components:&#123;</div><div class="line">                &quot;jspang&quot;:jspang</div><div class="line">            &#125;</div><div class="line">           </div><div class="line">        &#125;)</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="component标签"><a href="#component标签" class="headerlink" title="component标签"></a>component标签</h2><p><code>component</code>:VUE自己定义的标签，可以切换已经生成的组件。</p>
<ul>
<li><p>注册几个不同组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var citya=&#123;</div><div class="line">           template:`&lt;div&gt;Sichuan of China1&lt;/div&gt;`</div><div class="line">       &#125;;</div><div class="line">       var cityb=&#123;</div><div class="line">           template:`&lt;div&gt;Sichuan of China2&lt;/div&gt;`</div><div class="line">       &#125;;</div><div class="line">       var cityc=&#123;</div><div class="line">           template:`&lt;div&gt;Sichuan of Chin3&lt;/div&gt;`</div><div class="line">       &#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>挂载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var app=new Vue(&#123;</div><div class="line">          el:&apos;#app&apos;,</div><div class="line">          data : &#123;</div><div class="line">              who : &quot;cityb&quot;</div><div class="line">          &#125;,</div><div class="line">          components:&#123;</div><div class="line">              &quot;citya&quot;:citya,</div><div class="line">              &quot;cityb&quot;:cityb,</div><div class="line">              &quot;cityc&quot;:cityc,</div><div class="line">          &#125;</div><div class="line">      &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">      &lt;component :is=&quot;who&quot;&gt;&lt;/component&gt;</div><div class="line">    &lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h1><h2 id="propsData"><a href="#propsData" class="headerlink" title="propsData"></a>propsData</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">       var  header_a = Vue.extend(&#123;</div><div class="line">           template:`&lt;p&gt;&#123;&#123;message&#125;&#125;-&#123;&#123;a&#125;&#125;&lt;/p&gt;`,</div><div class="line">           data:function()&#123;</div><div class="line">               return &#123;</div><div class="line">                   message:&apos;Hello,I am Header&apos;</div><div class="line">               &#125;</div><div class="line">           &#125;,</div><div class="line">           props : [&apos;a&apos;]</div><div class="line">       &#125;); </div><div class="line">       new header_a(&#123;propsData:&#123;a:1&#125;&#125;).$mount(&apos;header&apos;);</div><div class="line">    &lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="Watch-选项-监控数据"><a href="#Watch-选项-监控数据" class="headerlink" title="Watch 选项 监控数据"></a>Watch 选项 监控数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">watch:&#123;</div><div class="line">         temp : function(newVal,oldVal)&#123; </div><div class="line">           if(newVal&gt;=26)&#123;</div><div class="line">             this.clothes=&quot;短袖&quot;;</div><div class="line">           &#125;else if(newVal&lt;26 &amp;&amp; newVal&gt;=10)&#123;</div><div class="line">             this.click=&quot;毛衣&quot;;</div><div class="line">           &#125;else&#123;</div><div class="line">             this.clothes=&quot;羽绒服&quot;;</div><div class="line">           &#125;</div><div class="line">         &#125;</div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<ul>
<li>写在外面<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">app.$watch(&apos;temperature&apos;,function(newVal,oldVal)&#123;</div><div class="line">    if(newVal&gt;=26)&#123;</div><div class="line">        this.suggestion=suggestion[0];</div><div class="line">    &#125;else if(newVal&lt;26 &amp;&amp; newVal &gt;=0)</div><div class="line">    &#123;</div><div class="line">        this.suggestion=suggestion[1];</div><div class="line">    &#125;else&#123;</div><div class="line">        this.suggestion=suggestion[2];</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Mixins-混入"><a href="#Mixins-混入" class="headerlink" title="Mixins 混入"></a>Mixins 混入</h2><blockquote>
<p>在不修改实例的情况下，加入新的方法。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        //额外临时加入时，用于显示日志</div><div class="line">        var addLog=&#123;</div><div class="line">            updated:function()&#123;</div><div class="line">                console.log(&quot;数据放生变化,变化成&quot;+this.num+&quot;.&quot;);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        var app=new Vue(&#123;</div><div class="line">            el:&apos;#app&apos;,</div><div class="line">            data:&#123;</div><div class="line">                num:1</div><div class="line">            &#125;,</div><div class="line">            methods:&#123;</div><div class="line">                add:function()&#123;</div><div class="line">                    this.num++;</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            mixins:[addLog]//混入</div><div class="line">        &#125;)</div><div class="line">    &lt;/script&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>混入是先于构造器中的方法执行的，但可以利用生命周期钩子函数来改变。</p>
</blockquote>
<h3 id="全局混入"><a href="#全局混入" class="headerlink" title="全局混入"></a>全局混入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Vue.mixin(&#123;</div><div class="line">    updated:function()&#123;</div><div class="line">        console.log(&apos;我是全局被混入的&apos;);</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Extends-Option-扩展选项"><a href="#Extends-Option-扩展选项" class="headerlink" title="Extends Option  扩展选项"></a>Extends Option  扩展选项</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        var bbb=&#123;</div><div class="line">            created:function()&#123;</div><div class="line">                console.log(&quot;我是被扩展出来的&quot;);</div><div class="line">            &#125;,</div><div class="line">            methods:&#123;</div><div class="line">                add:function()&#123;</div><div class="line">                    console.log(&apos;我是被扩展出来的方法！&apos;);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        var app=new Vue(&#123;</div><div class="line">            el:&apos;#app&apos;,</div><div class="line">            data:&#123;</div><div class="line">                message:&apos;hello Vue!&apos;</div><div class="line">            &#125;,</div><div class="line">            methods:&#123;</div><div class="line">                add:function()&#123;</div><div class="line">                    console.log(&apos;我是原生方法&apos;);</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            extends:bbb</div><div class="line">        &#125;)</div><div class="line">    &lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="delimiters-选项"><a href="#delimiters-选项" class="headerlink" title="delimiters 选项"></a>delimiters 选项</h2><blockquote>
<p>改变默认插值的符号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">delimiters:[&apos;$&#123;&apos;,&apos;&#125;&apos;]</div></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="实例和内置组件"><a href="#实例和内置组件" class="headerlink" title="实例和内置组件"></a>实例和内置组件</h1><ul>
<li>$mount（）：挂载扩展</li>
<li><p>$destory() :卸载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function destroy()&#123;</div><div class="line">   vm.$destroy();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>$forceUpdate() : 更新方法</p>
</li>
<li>$nextTick() : 数据修改方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function tick()&#123;</div><div class="line">    vm.message=&quot;update message info &quot;;</div><div class="line">    vm.$nextTick(function()&#123;</div><div class="line">        console.log(&apos;message更新完后我被调用了&apos;);</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="实例事件"><a href="#实例事件" class="headerlink" title="实例事件"></a>实例事件</h1><blockquote>
<p>实例事件就是在构造器外部写一个调用构造器内部的方法。这样写的好处是可以通过这种写法在构造器外部调用构造器内部的数据。</p>
</blockquote>
<ul>
<li><p>$on<br>$on接收两个参数，第一个参数是调用时的事件名称，第二个参数是一个匿名方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.$on(&apos;reduce&apos;,function()&#123;</div><div class="line">          console.log(&apos;执行了reduce()&apos;);</div><div class="line">          this.temp--;</div><div class="line">      &#125;);</div><div class="line">      //外部调用内部事件</div><div class="line">      function reduce()&#123;</div><div class="line">          app.$emit(&apos;reduce&apos;);</div><div class="line">      &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>$once : 只执行一次</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">app.$once(&apos;reduceOnce&apos;,function()&#123;</div><div class="line">    console.log(&apos;只执行一次的方法&apos;);</div><div class="line">    this.num--;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>$off关闭事件</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//关闭事件</div><div class="line">function off()&#123;</div><div class="line">   app.$off(&apos;reduce&apos;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">    &lt;h1&gt;Slot content extend Demo&lt;/h1&gt;</div><div class="line">    &lt;hr&gt;</div><div class="line">    &lt;div id=&quot;app&quot;&gt;</div><div class="line">    &lt;jspang&gt;</div><div class="line">        &lt;span slot=&quot;bolgUrl&quot;&gt;&#123;&#123;jspangData.bolgUrl&#125;&#125;&lt;/span&gt;    </div><div class="line">        &lt;span slot=&quot;netName&quot;&gt;&#123;&#123;jspangData.netName&#125;&#125;&lt;/span&gt;    </div><div class="line">        &lt;span slot=&quot;skill&quot;&gt;&#123;&#123;jspangData.skill&#125;&#125;&lt;/span&gt;    </div><div class="line">    &lt;/jspang&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line"> </div><div class="line"> </div><div class="line">&lt;template id=&quot;tmp&quot;&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;p&gt;博客地址：&lt;slot name=&quot;bolgUrl&quot;&gt;&lt;/slot&gt;&lt;/p&gt;</div><div class="line">        &lt;p&gt;网名：&lt;slot name=&quot;netName&quot;&gt;&lt;/slot&gt;&lt;/p&gt;</div><div class="line">        &lt;p&gt;技术类型：&lt;slot name=&quot;skill&quot;&gt;&lt;/slot&gt;&lt;/p&gt;</div><div class="line">        </div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"> </div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        var jspang=&#123;</div><div class="line">            template:&apos;#tmp&apos;</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">        var app=new Vue(&#123;</div><div class="line">            el:&apos;#app&apos;,</div><div class="line">            data:&#123;</div><div class="line">               jspangData:&#123;</div><div class="line">                   bolgUrl:&apos;http://jspang.com&apos;,</div><div class="line">                   netName:&apos;技术胖&apos;,</div><div class="line">                   skill:&apos;Web前端&apos;</div><div class="line">               &#125;</div><div class="line">            &#125;,</div><div class="line">            components:&#123;</div><div class="line">                &quot;jspang&quot;:jspang</div><div class="line">            &#125;</div><div class="line">        &#125;)</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/vue/">vue</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-对模块化的理解" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/19/对模块化的理解/" class="article-date">
      <time datetime="2018-05-19T06:59:39.365Z" itemprop="datePublished">2018-05-19</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/19/对模块化的理解/">对模块化的理解</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>原文地址：<br><a href="http://www.css88.com/archives/7628" target="_blank" rel="external">模块化</a></p>
<p>模块化首先要将方法分成各个独立的js文件。</p>
<h1 id="一、内嵌脚本"><a href="#一、内嵌脚本" class="headerlink" title="一、内嵌脚本"></a>一、内嵌脚本</h1><p>使用内嵌脚本会缺乏代码的可复用性，在使用方法之前必须保证添加了依赖，还会导致全局命名空间污染。</p>
<h1 id="二、通过src引入"><a href="#二、通过src引入" class="headerlink" title="二、通过src引入"></a>二、通过src引入</h1><p>缺乏依赖解析，引入顺序依然重要，还是会造成全局命令空间污染。</p>
<h1 id="三、IIFE模式"><a href="#三、IIFE模式" class="headerlink" title="三、IIFE模式"></a>三、IIFE模式</h1><p>IIFE模块模式是首先向全局公开一个对象，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var myApp=&#123;&#125;;</div></pre></td></tr></table></figure></p>
<p>然后通过立即执行函数的方式将方法包裹起来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(function()&#123;</div><div class="line">	myApp.add=function(a,b)&#123;</div><div class="line">		return a+b;</div><div class="line">	&#125;</div><div class="line">	&#125;)();</div></pre></td></tr></table></figure>
<p>这种方式一定程度上避免了全局污染作用域，可以用myApp来访问这些函数。但是依然有一个全局变量，而且文件顺序依然重要。</p>
<h1 id="四、CommonJs"><a href="#四、CommonJs" class="headerlink" title="四、CommonJs"></a>四、CommonJs</h1><p>CommonJs本是为WEB服务器、桌面和命令行应用程序定义的一套通用API</p>
<p>导出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">module.exports=function add(a,b)&#123;</div><div class="line">	return a+b;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>导入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var add=require(&apos;./add&apos;);</div></pre></td></tr></table></figure></p>
<p>但是CommonJs是同步的，当require一个模块时，系统将暂停，直到加载完毕。</p>
<h1 id="五、异步模块定义（AMD）"><a href="#五、异步模块定义（AMD）" class="headerlink" title="五、异步模块定义（AMD）"></a>五、异步模块定义（AMD）</h1><p>由于CommonJs的同步问题，出现了AMD。</p>
<p>AMD语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">define([&apos;add&apos;,&apos;reduce&apos;],function(add,reduce)&#123;</div><div class="line">		return function()&#123;</div><div class="line">			//....</div><div class="line">		&#125;;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="六、RequireJs"><a href="#六、RequireJs" class="headerlink" title="六、RequireJs"></a>六、RequireJs</h1><p>RequireJs是一个模块加载器，需要引入RequireJs。可以根据需求异步加载AMD。</p>
<p>他会通过引入的main.js递归寻找其他依赖。</p>
<h1 id="七、Browserify"><a href="#七、Browserify" class="headerlink" title="七、Browserify"></a>七、Browserify</h1><p>模块打包器，可使用CommonJs语法，他遍历代码的依赖树，生成一个文件。</p>
<h1 id="八、ES6模块语法"><a href="#八、ES6模块语法" class="headerlink" title="八、ES6模块语法"></a>八、ES6模块语法</h1><p>导入：import 导出： export</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">import add from &apos;./add&apos;;</div><div class="line">import reduce from &apos;./reduce&apos;;</div><div class="line"></div><div class="line">export default finction sum(arr)&#123;</div><div class="line">	return reduce(arr,add);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="九、Webpack"><a href="#九、Webpack" class="headerlink" title="九、Webpack"></a>九、Webpack</h1><p>Webpack基于CommonJs和AMD语法。<br>代码分离、自定义加载器，可打包非js文件，插件。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/模块化/">模块化</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/思想/">思想</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-异步请求" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/19/异步请求/" class="article-date">
      <time datetime="2018-05-19T05:48:36.226Z" itemprop="datePublished">2018-05-19</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/19/异步请求/">异步请求</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Ajax工作原理"><a href="#Ajax工作原理" class="headerlink" title="Ajax工作原理"></a>Ajax工作原理</h1><ul>
<li>XMLHttpRequest 是 AJAX 的基础。</li>
</ul>
<h2 id="一、-创建XMLHttpRequest-对象"><a href="#一、-创建XMLHttpRequest-对象" class="headerlink" title="一、 创建XMLHttpRequest 对象"></a>一、 创建XMLHttpRequest 对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xmlhttp=new XMLHttpRequest();</div></pre></td></tr></table></figure>
<h2 id="二、向服务器发送请求"><a href="#二、向服务器发送请求" class="headerlink" title="二、向服务器发送请求"></a>二、向服务器发送请求</h2><ul>
<li>open()方法<br><code>open(method,url,async)</code></li>
</ul>
<ol>
<li>method：请求的类型；GET 或 POST</li>
<li>url：文件在服务器上的位置</li>
<li>async：true（异步）或 false（同步）</li>
</ol>
<ul>
<li>send()方法<br><code>send(string)</code></li>
</ul>
<ol>
<li>string：仅用于 POST 请求</li>
</ol>
<h3 id="实际用法"><a href="#实际用法" class="headerlink" title="实际用法"></a>实际用法</h3><ol>
<li>如果您希望通过 GET 方法发送信息，请向 URL 添加信息：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;demo_get2.asp?fname=Bill&amp;lname=Gates&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure>
<ol>
<li>POST<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;POST&quot;,&quot;/ajax/demo_post.asp&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure>
</li>
</ol>
<p>如果需要像 HTML 表单那样 POST 数据，请使用 setRequestHeader() 来添加 HTTP 头。然后在 send() 方法中规定您希望发送的数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;POST&quot;,&quot;ajax_test.asp&quot;,true);</div><div class="line">xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);</div><div class="line">xmlhttp.send(&quot;fname=Bill&amp;lname=Gates&quot;);</div></pre></td></tr></table></figure></p>
<p><code>setRequestHeader(header,value)</code>添加HTTP头</p>
<ol>
<li>header: 规定头的名称</li>
<li>value: 规定头的值</li>
</ol>
<blockquote>
<p>XMLHttpRequest 对象如果要用于 AJAX 的话，其 open() 方法的 async 参数必须设置为 true(异步)</p>
</blockquote>
<h3 id="处于异步状态-onreadystatechange-事件中的就绪状态时执行的函数"><a href="#处于异步状态-onreadystatechange-事件中的就绪状态时执行的函数" class="headerlink" title="处于异步状态 onreadystatechange 事件中的就绪状态时执行的函数"></a>处于异步状态 onreadystatechange 事件中的就绪状态时执行的函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">xmlhttp.onreadystatechange=function()</div><div class="line">  &#123;</div><div class="line">  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</div><div class="line">    &#123;</div><div class="line">    document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;test1.txt&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure>
<ul>
<li>注释：当您使用 async=false 时，请不要编写 onreadystatechange 函数 ， 把代码放到 send() 语句后面即可：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;test1.txt&quot;,false);</div><div class="line">xmlhttp.send();</div><div class="line">document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="三、服务器响应"><a href="#三、服务器响应" class="headerlink" title="三、服务器响应"></a>三、服务器响应</h2><ul>
<li>如需获得来自服务器的响应，请使用 XMLHttpRequest 对象的 responseText 或 responseXML 属性。<br><code>responseText</code> 获得字符串形式的响应数据。<br><code>responseXML</code> 获得 XML 形式的响应数据。</li>
</ul>
<h2 id="四、onreadystatechange-事件"><a href="#四、onreadystatechange-事件" class="headerlink" title="四、onreadystatechange 事件"></a>四、onreadystatechange 事件</h2><p>当请求被发送到服务器时，我们需要执行一些基于响应的任务。<br>每当 readyState 改变时，就会触发 onreadystatechange 事件。<br>readyState 属性存有 XMLHttpRequest 的状态信息。</p>
<p><code>readyState</code>：</p>
<p>存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。<br>0: 请求未初始化<br>1: 服务器连接已建立<br>2: 请求已接收<br>3: 请求处理中<br>4: 请求已完成，且响应已就绪</p>
<p><code>status</code>:</p>
<p>200: “OK”</p>
<p>404: 未找到页面</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><blockquote>
<p>Ajax是告诉浏览器给我要发送一个HTTP请求，你给我新开个线程去执行下，完事后告诉我一声，我在其他function中执行后续操作（回调）。在线程返回结果前，我可以继续做其他事情。（异步）</p>
</blockquote>
<h3 id="ajax运行流程"><a href="#ajax运行流程" class="headerlink" title="ajax运行流程"></a>ajax运行流程</h3><ol>
<li>创建一个 XMLHttpRequest 对象。</li>
<li>使用open()方法创建一个请求，并准备向服务器发送。</li>
<li>通过绑定 onreadystatechange 事件，根据服务器返回的不同状态码做不同处理，主要请求成功后根据响应的数据通过js对数据进行进一步处理。</li>
<li>使用send()方法向服务器发送请求。</li>
</ol>
<h1 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h1><blockquote>
<p>除了XMLHttpRequest之外另一种获取后台数据的异步方法。</p>
</blockquote>
<p>支持 ： 目前兼容性不好，但谷歌已支持。</p>
<p>语法 ： es6的Promise语法</p>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><blockquote>
<p>一个对象，有两个参数，<code>resolve</code>和<code>reject</code>。（成功和失败的关系）</p>
</blockquote>
<p>用法一：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">new Promise((resolve,reject)=&gt;&#123;</div><div class="line">    resolve(&apos;success&apos;);</div><div class="line">    // reject(&apos;fail&apos;);</div><div class="line">  &#125;).then((str)=&gt;&#123;</div><div class="line">    console.log(str);</div><div class="line">  &#125;,(str)=&gt;&#123;</div><div class="line">    console.log(str);</div><div class="line">  &#125;)</div></pre></td></tr></table></figure></p>
<p>用法二(catch)：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">new Promise((resolve,reject)=&gt;&#123;</div><div class="line">    resolve(&apos;success&apos;);</div><div class="line">    // reject(&apos;fail&apos;);</div><div class="line">  &#125;).then((str)=&gt;&#123;</div><div class="line">    console.log(str);</div><div class="line">  &#125;).catch((str)=&gt;&#123;</div><div class="line">    console.log(str);</div><div class="line">  &#125;)</div></pre></td></tr></table></figure></p>
<h2 id="fetch用法"><a href="#fetch用法" class="headerlink" title="fetch用法"></a>fetch用法</h2><p>登录举例：</p>
<ol>
<li><p>创建一个登陆表单</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; name=&quot;&quot; placeholder=&quot;用户名&quot; id=&quot;user&quot;&gt;</div><div class="line">&lt;input placeholder=&quot;密码&quot; type=&quot;text&quot; name=&quot;&quot; id=&quot;password&quot;&gt;</div><div class="line">&lt;button id=&quot;login&quot;&gt;登录&lt;/button&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>利用fetch（）方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">var login=document.getElementById(&apos;login&apos;);</div><div class="line">    login.onclick=function()&#123;</div><div class="line">    fetch(`http://localhost:2133/login?user=$&#123;user.value&#125;&amp;password=$&#123;password.value&#125;`,&#123;</div><div class="line">      method : &apos;get&apos;</div><div class="line">    &#125;).then((res)=&gt;&#123;</div><div class="line">      res.json(()=&gt;&#123;</div><div class="line"></div><div class="line">      &#125;).then((res)=&gt;&#123;</div><div class="line">        if(res.ok==1)&#123;</div><div class="line">          alert(1);</div><div class="line">        &#125;else&#123;</div><div class="line">          alert(2);</div><div class="line">        &#125;</div><div class="line">      &#125;).catch(()=&gt;&#123;</div><div class="line">        console.log(&quot;服务器错误&quot;);</div><div class="line">      &#125;);</div><div class="line">    &#125;).catch();</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>搭建一个服务器</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i express</div></pre></td></tr></table></figure>
<p>app.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">const express=require(&apos;express&apos;);</div><div class="line"></div><div class="line">const server = express();</div><div class="line"></div><div class="line">server.listen(2133); // 监听</div><div class="line">var user =&#123;</div><div class="line">  leo: &apos;111&apos;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">server.use(&apos;/login&apos;,(req,res)=&gt;&#123;</div><div class="line">  if (user[req.query.user]==req.query.pass)&#123;</div><div class="line">    res.send(&#123;</div><div class="line">      ok:1,</div><div class="line">      mes:&quot;登录成功&quot;</div><div class="line">    &#125;)</div><div class="line">  &#125;else&#123;</div><div class="line">    res.send(&#123;</div><div class="line">      ok:0,</div><div class="line">      mes:&quot;登录失败&quot;</div><div class="line">    &#125;)</div><div class="line">  &#125;;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">server.use(&apos;&apos;,express.static(&apos;./&apos;));</div></pre></td></tr></table></figure></p>
<p>运行服务器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node app</div></pre></td></tr></table></figure></p>
<p>访问<code>http://localhost:2133/2.html</code></p>
<h3 id="fetch总结"><a href="#fetch总结" class="headerlink" title="fetch总结"></a>fetch总结</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">fetch(url,&#123;</div><div class="line">  method</div><div class="line">  &#125;).then((response)=&gt;&#123;</div><div class="line">      response.json(()=&gt;&#123;</div><div class="line">          // json是fetch的一个方法，他会自动判断是否成功</div><div class="line">        &#125;).then(()=&gt;&#123;</div><div class="line">            // 成功</div><div class="line">          &#125;).catch(()=&gt;&#123;</div><div class="line">            //失败</div><div class="line">            &#125;);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<h3 id="fetch（post）"><a href="#fetch（post）" class="headerlink" title="fetch（post）"></a>fetch（post）</h3><ul>
<li>数据不再url中</li>
<li>method改为post</li>
<li>新添参数body，数据放在body中</li>
<li>setHeader:添加一个headers属性（对象）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">fetch(`http://localhost:2133/login`,&#123;</div><div class="line">      method : &apos;post&apos;,</div><div class="line">      headers:&#123;</div><div class="line">        &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;</div><div class="line">      &#125;,</div><div class="line">      body :`user=$&#123;user.value&#125;&amp;password=$&#123;user.password&#125;`</div><div class="line">    &#125;).then((res)=&gt;&#123;</div><div class="line">      res.json(()=&gt;&#123;</div><div class="line"></div><div class="line">      &#125;).then((res)=&gt;&#123;</div><div class="line">        if(res.ok==1)&#123;</div><div class="line">          alert(1);</div><div class="line">        &#125;else&#123;</div><div class="line">          alert(2);</div><div class="line">        &#125;</div><div class="line">      &#125;).catch(()=&gt;&#123;</div><div class="line">        console.log(&quot;服务器错误&quot;);</div><div class="line">      &#125;);</div><div class="line">    &#125;).catch();</div></pre></td></tr></table></figure>
<h3 id="图片处理"><a href="#图片处理" class="headerlink" title="图片处理"></a>图片处理</h3><ol>
<li><p>获取图片文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fl.files[0]</div></pre></td></tr></table></figure>
</li>
<li><p>form-data</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fd=new FormData();</div><div class="line">fd.append(&apos;pic&apos;,fl.files[0]);</div></pre></td></tr></table></figure>
</li>
<li><p>修改body传递数据</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">body :fd</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/请求/">请求</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/请求，异步/">请求，异步</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-vue-router" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/14/vue-router/" class="article-date">
      <time datetime="2018-05-14T06:01:04.308Z" itemprop="datePublished">2018-05-14</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/14/vue-router/">Vue-router</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h1><blockquote>
<p>页面导航，将不同板块放到不同路由。配置好路由访问相应版块。</p>
</blockquote>
<h2 id="一、安装与引用"><a href="#一、安装与引用" class="headerlink" title="一、安装与引用"></a>一、安装与引用</h2><p>在 Vue 后面加载 vue-router，它会自动安装的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;/path/to/vue.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;/path/to/vue-router.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><a href="https://unpkg.com/vue-router/dist/vue-router.js" target="_blank" rel="external">https://unpkg.com/vue-router/dist/vue-router.js</a> </p>
<ol>
<li><p>html 的引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;https://unpkg.com/vue-router/dist/vue-router.js&quot;&gt;&lt;/script&gt;</div><div class="line"></div><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &lt;h1&gt;Hello App!&lt;/h1&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &lt;!-- 使用 router-link 组件来导航. --&gt;</div><div class="line">    &lt;!-- 通过传入 `to` 属性指定链接. --&gt;</div><div class="line">    &lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</div><div class="line">    &lt;router-link to=&quot;/foo&quot;&gt;Go to Foo&lt;/router-link&gt;</div><div class="line">    &lt;router-link to=&quot;/bar&quot;&gt;Go to Bar&lt;/router-link&gt;</div><div class="line">  &lt;/p&gt;</div><div class="line">  &lt;!-- 路由出口 --&gt;</div><div class="line">  &lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</div><div class="line">  &lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>js的使用</p>
</li>
</ol>
<ul>
<li><p>创建组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const Foo = &#123; template: &apos;&lt;div&gt;foo&lt;/div&gt;&apos; &#125;</div><div class="line">const Bar = &#123; template: &apos;&lt;div&gt;bar&lt;/div&gt;&apos; &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>定义路由</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const routes = [</div><div class="line">  &#123; path: &apos;/foo&apos;, component: Foo &#125;,</div><div class="line">  &#123; path: &apos;/bar&apos;, component: Bar &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
</li>
<li><p>创建 router 实例，然后传 <code>routes</code> 配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const router = new VueRouter(&#123;</div><div class="line">  routes // （缩写）相当于 routes: routes</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>创建和挂载根实例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const app = new Vue(&#123;</div><div class="line">  router</div><div class="line">&#125;).$mount(&apos;#app&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>设置跟路由</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;path : &apos;/&apos; ,redirect:&apos;/h5&apos; &#125;,//根路由</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="二-、-多层路由"><a href="#二-、-多层路由" class="headerlink" title="二 、 多层路由"></a>二 、 多层路由</h2><ol>
<li>创建组件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">const basic=Vue.extend(&#123;</div><div class="line">    template :&quot;#basic&quot;</div><div class="line">  &#125;);</div><div class="line">  const big=Vue.extend(&#123;</div><div class="line">    template :&quot;#big&quot;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<ol>
<li>定义路由</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">// 定义路由</div><div class="line">  const routes = [</div><div class="line">    &#123;path : &apos;/&apos; ,redirect:&apos;/h5&apos; &#125;,//根路由</div><div class="line">    &#123;</div><div class="line">      path : &apos;/h5&apos; ,</div><div class="line">      component : h5 ,</div><div class="line">      children : [</div><div class="line">      &#123;path : &apos;basic&apos; ,component : basic &#125;,</div><div class="line">      &#123;path : &apos;big&apos; ,component : big &#125;,</div><div class="line">      &#123;path : &apos;/&apos; ,redirect:&apos;basic&apos; &#125;,//根路由</div><div class="line">      ]</div><div class="line">    &#125;,</div><div class="line">    &#123;path : &apos;/java&apos; ,component : java &#125;,</div><div class="line">    &#123;path : &apos;/python&apos; ,component : python &#125;</div><div class="line">  ];</div></pre></td></tr></table></figure>
<ol>
<li>在一级界面上如下配置<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;template id=&quot;h5&quot;&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;衣服&lt;/h2&gt;</div><div class="line">    &lt;p&gt;lallallala&lt;/p&gt;</div><div class="line">    &lt;img src=&quot;img/clothes.PNG&quot; width=&quot;250px&quot;&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</div><div class="line">        &lt;router-link to=&quot;/h5/basic&quot;&gt;basic&lt;/router-link&gt;</div><div class="line">        &lt;router-link to=&quot;/h5/big&quot;&gt;big&lt;/router-link&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">      &lt;div class=&quot;tab-content&quot;&gt;</div><div class="line">        &lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="在Vue-cli下使用router（1）"><a href="#在Vue-cli下使用router（1）" class="headerlink" title="在Vue-cli下使用router（1）"></a>在Vue-cli下使用router（1）</h1><h2 id="1-安装vue-cli"><a href="#1-安装vue-cli" class="headerlink" title="1. 安装vue-cli"></a>1. 安装vue-cli</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vue-cli -g</div></pre></td></tr></table></figure>
<h2 id="2-初始化"><a href="#2-初始化" class="headerlink" title="2. 初始化"></a>2. 初始化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vue init webpack &lt;projectName&gt;</div></pre></td></tr></table></figure>
<ul>
<li>一路空格</li>
</ul>
<h2 id="3-进入目录"><a href="#3-进入目录" class="headerlink" title="3. 进入目录"></a>3. 进入目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd &lt;projectName&gt;</div></pre></td></tr></table></figure>
<h2 id="4-安装依赖管理包"><a href="#4-安装依赖管理包" class="headerlink" title="4. 安装依赖管理包"></a>4. 安装依赖管理包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install</div></pre></td></tr></table></figure>
<h2 id="5-开发模式下运行程序"><a href="#5-开发模式下运行程序" class="headerlink" title="5. 开发模式下运行程序"></a>5. 开发模式下运行程序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run dev</div></pre></td></tr></table></figure>
<h2 id="6-在components文件夹下创建一个新组建"><a href="#6-在components文件夹下创建一个新组建" class="headerlink" title="6. 在components文件夹下创建一个新组建"></a>6. 在components文件夹下创建一个新组建</h2><p>Hi.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125;</div><div class="line">    &lt;/h2&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">export default &#123;</div><div class="line">  name: &apos;HelloWorld&apos;,</div><div class="line">  data () &#123;</div><div class="line">    return &#123;</div><div class="line">      msg: &apos;Hi page!&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;style scoped&gt;</div><div class="line"></div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure></p>
<h2 id="7-修改router目录下的index-js"><a href="#7-修改router目录下的index-js" class="headerlink" title="7. 修改router目录下的index.js"></a>7. 修改router目录下的index.js</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">import Vue from &apos;vue&apos;</div><div class="line">import Router from &apos;vue-router&apos;</div><div class="line">import HelloWorld from &apos;@/components/HelloWorld&apos;</div><div class="line">import Hi from &apos;@/components/Hi&apos;// 1.引入hi</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">Vue.use(Router)</div><div class="line"></div><div class="line">export default new Router(&#123;</div><div class="line">  routes: [</div><div class="line">    &#123;</div><div class="line">      path: &apos;/&apos;,</div><div class="line">      name: &apos;HelloWorld&apos;,</div><div class="line">      component: HelloWorld</div><div class="line">    &#125;,</div><div class="line">    &#123;// 配置Hi路由</div><div class="line">      path: &apos;/Hi&apos;,</div><div class="line">      name: &apos;Hi&apos;,</div><div class="line">      component: Hi</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>可以通过 <code>http://localhost:8080/#/Hi</code>访问新建的路由，图片在<code>App.vue</code>文件中，<code>App.vue</code>文件中有一个<code>&lt;router-view/&gt;</code>,这是配置的路由出口。</p>
</blockquote>
<h2 id="8-定义可点击导航"><a href="#8-定义可点击导航" class="headerlink" title="8. 定义可点击导航"></a>8. 定义可点击导航</h2><blockquote>
<p>避免通过输入URL访问不同组件</p>
</blockquote>
<p>在App.vue中添加导航<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">      &lt;router-link to=&quot;/&quot;&gt;首页&lt;/router-link&gt;</div><div class="line">      &lt;router-link to=&quot;/Hi&quot;&gt;Hi页面&lt;/router-link&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h1 id="在Vue-cli下使用router（2）"><a href="#在Vue-cli下使用router（2）" class="headerlink" title="在Vue-cli下使用router（2）"></a>在Vue-cli下使用router（2）</h1><h2 id="子路由"><a href="#子路由" class="headerlink" title="子路由"></a>子路由</h2><h3 id="1-在App-vue中添加新路由"><a href="#1-在App-vue中添加新路由" class="headerlink" title="1. 在App.vue中添加新路由"></a>1. 在App.vue中添加新路由</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;router-link to=&quot;/&quot;&gt;首页&lt;/router-link&gt;|</div><div class="line">  &lt;router-link to=&quot;/Hi&quot;&gt;Hi页面&lt;/router-link&gt;|</div><div class="line">  &lt;router-link to=&quot;/Hi/Hi1&quot;&gt;Hi1&lt;/router-link&gt;|</div><div class="line">  &lt;router-link to=&quot;/Hi/Hi2&quot;&gt;Hi2&lt;/router-link&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h3 id="2-改造Hi-vue-添加路由出口"><a href="#2-改造Hi-vue-添加路由出口" class="headerlink" title="2. 改造Hi.vue(添加路由出口)"></a>2. 改造Hi.vue(添加路由出口)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125;</div><div class="line">    &lt;/h2&gt;</div><div class="line">    &lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
<h3 id="3-建立Hi1、Hi2"><a href="#3-建立Hi1、Hi2" class="headerlink" title="3. 建立Hi1、Hi2"></a>3. 建立Hi1、Hi2</h3><h3 id="4-配置router下的index-js"><a href="#4-配置router下的index-js" class="headerlink" title="4. 配置router下的index.js"></a>4. 配置router下的index.js</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">import Hi1 from &apos;@/components/Hi1&apos;// 1.引入hi</div><div class="line">import Hi2 from &apos;@/components/Hi2&apos;// 1.引入hi</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&#123;// 配置Hi路由</div><div class="line">      path: &apos;/Hi&apos;,</div><div class="line">      name: &apos;Hi&apos;,</div><div class="line">      component: Hi,</div><div class="line">      children:[</div><div class="line">        &#123;</div><div class="line">          path:&quot;/&quot;,</div><div class="line">          component: Hi</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          path:&quot;Hi1&quot;,</div><div class="line">          component: Hi1</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          path:&quot;Hi2&quot;,</div><div class="line">          component: Hi2</div><div class="line">        &#125;</div><div class="line">      ]</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h1 id="在Vue-cli下使用router（3）"><a href="#在Vue-cli下使用router（3）" class="headerlink" title="在Vue-cli下使用router（3）"></a>在Vue-cli下使用router（3）</h1><h2 id="用vue-router传参"><a href="#用vue-router传参" class="headerlink" title="用vue-router传参"></a>用vue-router传参</h2><h3 id="方法一-用name传递-不常用"><a href="#方法一-用name传递-不常用" class="headerlink" title="方法一 用name传递(不常用)"></a>方法一 用name传递(不常用)</h3><blockquote>
<p>之前在配置中配置到了name</p>
</blockquote>
<ol>
<li><p>在App.vue中添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;&#123;&#123; $route.name &#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>在router/index.js中添加name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">routes: [</div><div class="line">    &#123;</div><div class="line">      path: &apos;/&apos;,</div><div class="line">      name: &apos;HelloWorld&apos;,</div><div class="line">      component: HelloWorld</div><div class="line">    &#125;,</div><div class="line">    &#123;// 配置Hi路由</div><div class="line">      path: &apos;/Hi&apos;,</div><div class="line">      name: &apos;Hi&apos;,</div><div class="line">      component: Hi,</div><div class="line">      children:[</div><div class="line">        &#123;</div><div class="line">          path:&quot;/&quot;,</div><div class="line">          name: &quot;Hoi&quot;,</div><div class="line">          component: Hi</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          path:&quot;Hi1&quot;,</div><div class="line">          name: &quot;Hoi1&quot;,</div><div class="line"></div><div class="line">          component: Hi1</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          path:&quot;Hi2&quot;,</div><div class="line">          name: &quot;Hoi2&quot;,</div><div class="line"></div><div class="line">          component: Hi2</div><div class="line">        &#125;</div><div class="line">      ]</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="方法二-修改router-link标签"><a href="#方法二-修改router-link标签" class="headerlink" title="方法二 修改router-link标签"></a>方法二 修改router-link标签</h3><ol>
<li>在App.vue中修改router-link<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;router-link :to=&quot;&#123;name:&apos;Hi1&apos;,params:&#123;username:&apos;gg&apos;&#125;&#125;&quot;&gt;Hi1&lt;/router-link&gt;|</div><div class="line">&lt;router-link :to=&quot;&#123;name:&apos;Hi2&apos;,params:&#123;username:&apos;gg1&apos;&#125;&#125;&quot;&gt;Hi2&lt;/router-link&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>注意name值与index.js中的name匹配</p>
<ol>
<li><p>接收参数<br>在<code>.vue</code>文件文件中接收参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125;——&#123;&#123; $router.params.username &#125;&#125;</div><div class="line">    &lt;/h2&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>传递多参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;router-link :to=&quot;&#123;name:&apos;Hi1&apos;,params:&#123;username:&apos;gg&apos;,age:55&#125;&#125;&quot;&gt;Hi1&lt;/router-link&gt;|</div></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>注意：一定要使用<code>:</code>绑定<code>to</code></p>
</blockquote>
<h1 id="在Vue-cli下使用router（4"><a href="#在Vue-cli下使用router（4" class="headerlink" title="在Vue-cli下使用router（4)"></a>在Vue-cli下使用router（4)</h1><h2 id="单页面多路由区域操作"><a href="#单页面多路由区域操作" class="headerlink" title="单页面多路由区域操作"></a>单页面多路由区域操作</h2><blockquote>
<p>在一个页面中有许多的路由出口如何操作。</p>
</blockquote>
<ol>
<li><p>给路由出口起名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;router-view name=&quot;left&quot;&gt;&lt;/router-view&gt;</div><div class="line">&lt;router-view name=&quot;right&quot;&gt;&lt;/router-view&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>修改路由index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">export default new Router(&#123;</div><div class="line">  routes: [</div><div class="line">    &#123;</div><div class="line">      path: &apos;/&apos;,</div><div class="line">      name: &apos;HelloWorld&apos;,</div><div class="line">      components: &#123; </div><div class="line">        default:HelloWorld,</div><div class="line">        left : Hi1,</div><div class="line">        right : Hi2</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>注意<code>components</code>加<code>s</code></li>
</ul>
<h1 id="在Vue-cli下使用router（5"><a href="#在Vue-cli下使用router（5" class="headerlink" title="在Vue-cli下使用router（5)"></a>在Vue-cli下使用router（5)</h1><h2 id="vue-router-利用url传递参数"><a href="#vue-router-利用url传递参数" class="headerlink" title="vue-router 利用url传递参数"></a>vue-router 利用url传递参数</h2><ol>
<li>配置index.js修改路由配置<br>引入模块、冒号传参<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">export default new Router(&#123;</div><div class="line">  routes: [</div><div class="line">    &#123;</div><div class="line">      path: &apos;/&apos;,</div><div class="line">      name: &apos;HelloWorld&apos;,</div><div class="line">      component: HelloWorld</div><div class="line">    &#125;,&#123;</div><div class="line">      name: params</div><div class="line">      path : &apos;/params/:newsId/:newsTitle&apos;,</div><div class="line">      component :Params</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>可以在<code>:newsId</code>后面加上括号<code>()</code>添加正则</p>
<ol>
<li><p><code>App.vue</code>中配置路由入口和传递参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;router-link to=&quot;/&quot;&gt;首页&lt;/router-link&gt;|</div><div class="line">&lt;router-link to=&quot;/params/155/slsllfsl&quot;&gt;params&lt;/router-link&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>获取参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;</div><div class="line">      &#123;&#123; msg &#125;&#125; + &#123;&#123; $route.params.newsId &#125;&#125; + &#123;&#123; $route.params.newsTitle  &#125;&#125;</div><div class="line">    &lt;/h2&gt; </div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="在Vue-cli下使用router（6"><a href="#在Vue-cli下使用router（6" class="headerlink" title="在Vue-cli下使用router（6)"></a>在Vue-cli下使用router（6)</h1><h2 id="vue-router-的重定向-redirect"><a href="#vue-router-的重定向-redirect" class="headerlink" title="vue-router 的重定向-redirect"></a>vue-router 的重定向-redirect</h2><blockquote>
<p>不同URL指向相同页面</p>
</blockquote>
<ol>
<li><p>配置index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  path : &apos;/goHome&apos;,</div><div class="line">  redirect:&apos;/&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>重定向时传递参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  path:&apos;/params/:newsId(\\d+)/:newsTitle&apos;,</div><div class="line">  component:Params</div><div class="line">&#125;,&#123;</div><div class="line">  path:&apos;/goParams/:newsId(\\d+)/:newsTitle&apos;,</div><div class="line">  redirect:&apos;/params/:newsId(\\d+)/:newsTitle&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="在Vue-cli下使用router（7"><a href="#在Vue-cli下使用router（7" class="headerlink" title="在Vue-cli下使用router（7)"></a>在Vue-cli下使用router（7)</h1><h2 id="alias别名的使用"><a href="#alias别名的使用" class="headerlink" title="alias别名的使用"></a>alias别名的使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"> path : &apos;/Hi1&apos;,</div><div class="line">  component :Hi1,</div><div class="line">  alias :&apos;/gg&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p><code>redirect</code>路径两个相同，<code>alias</code>内容相同,但路径不同。</p>
</blockquote>
<ul>
<li>给根目录起别名不起作用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  path: &apos;/&apos;,</div><div class="line">  component: Hello,</div><div class="line">  alias:&apos;/home&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="在Vue-cli下使用router（8"><a href="#在Vue-cli下使用router（8" class="headerlink" title="在Vue-cli下使用router（8)"></a>在Vue-cli下使用router（8)</h1><h2 id="路由的过渡动画"><a href="#路由的过渡动画" class="headerlink" title="路由的过渡动画"></a>路由的过渡动画</h2><ol>
<li><p>添加transition(App.vue)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;transition name=&apos;fade&apos;&gt;</div><div class="line">  &lt;router-view/&gt;</div><div class="line">&lt;/transition&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>修改css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">.fade-enter&#123;</div><div class="line">  opacity: 0;</div><div class="line">&#125;</div><div class="line">.fade-enter-active&#123;</div><div class="line">  transition: opacity 0.5s;</div><div class="line">&#125;</div><div class="line">.fade-leave&#123;</div><div class="line">  opacity: 1;</div><div class="line">&#125;</div><div class="line">.fade-leave-active&#123;</div><div class="line">  opacity: 0;</div><div class="line">  transition: opacity 0.5s;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>其中有四种状态：</p>
<ul>
<li>fade-enter:进入过渡的开始状态，元素被插入时生效，只应用一帧后立刻删除。</li>
<li>fade-enter-active:进入过渡的结束状态，元素被插入时就生效，在过渡过程完成后移除。</li>
<li>fade-leave:离开过渡的开始状态，元素被删除时触发，只应用一帧后立刻删除。</li>
<li>fade-leave-active:离开过渡的结束状态，元素被删除时生效，离开过渡完成后被删除。</li>
</ul>
<ol>
<li>修改mode</li>
</ol>
<ul>
<li>in-out:新元素先进入过渡，完成之后当前元素过渡离开。</li>
<li>out-in:当前元素先进行过渡离开，离开完成后新元素过渡进入。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;transition name=&apos;fade&apos; mode=&quot;out-in&quot;&gt;</div><div class="line">  &lt;router-view/&gt;</div><div class="line">&lt;/transition&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="在Vue-cli下使用router（9"><a href="#在Vue-cli下使用router（9" class="headerlink" title="在Vue-cli下使用router（9)"></a>在Vue-cli下使用router（9)</h1><h2 id="mode的设置和404页面的处理"><a href="#mode的设置和404页面的处理" class="headerlink" title="mode的设置和404页面的处理"></a>mode的设置和404页面的处理</h2><h3 id="history模式"><a href="#history模式" class="headerlink" title="history模式"></a>history模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">export default new Router(&#123;</div><div class="line">  mode: &apos;history&apos;,</div><div class="line">  routes: [</div><div class="line">    &#123;</div><div class="line">      path: &apos;/&apos;,</div><div class="line">      name: &apos;HelloWorld&apos;,</div><div class="line">      component: HelloWorld</div><div class="line">    &#125;,&#123;</div><div class="line">      path : &apos;/params/:newsId/:newsTitle&apos;,</div><div class="line">      name : &apos;params&apos;,</div><div class="line">      component :Params</div><div class="line">    &#125;,&#123;</div><div class="line">      path : &apos;/goHome&apos;,</div><div class="line">      redirect:&apos;/&apos;</div><div class="line">    &#125;,&#123;</div><div class="line">    path : &apos;/Hi1&apos;,</div><div class="line">      component :Hi1,</div><div class="line">      alias :&apos;/gg&apos;</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>其中<code>mode:&#39;history&#39;</code>去掉了路径中的<code>#</code></p>
<ul>
<li>默认模式：hash:默认’hash’值，但是hash看起来就像无意义的字符排列，不太好看也不符合我们一般的网址浏览习惯。</li>
</ul>
<h3 id="404"><a href="#404" class="headerlink" title="404"></a>404</h3><blockquote>
<p>胡乱输入一个路由地址，需要友好地显示404页面</p>
<ol>
<li>配置index.js<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">import Error from &apos;@/components/Error&apos;</div><div class="line">&#123;</div><div class="line">  path : &apos;*&apos;,</div><div class="line">  component:Error</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<ol>
<li>新建404组件</li>
</ol>
<h1 id="在Vue-cli下使用router（10"><a href="#在Vue-cli下使用router（10" class="headerlink" title="在Vue-cli下使用router（10)"></a>在Vue-cli下使用router（10)</h1><h2 id="路由中的钩子"><a href="#路由中的钩子" class="headerlink" title="路由中的钩子"></a>路由中的钩子</h2><ol>
<li>进入路由</li>
<li>离开路由</li>
</ol>
<p>在路由配置文件中修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  path : &apos;/params/:newsId/:newsTitle&apos;,</div><div class="line">  name : &apos;params&apos;,</div><div class="line">  component :Params,</div><div class="line">  beforeEnter : (to,from,next)=&gt;&#123;</div><div class="line">    console.log(to);</div><div class="line">    console.log(from);</div><div class="line">    next(); //允许往下跳转 false不跳，true跳转</div><div class="line">  &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在模板中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">export default &#123;</div><div class="line">  name: &apos;params&apos;,</div><div class="line">  data () &#123;</div><div class="line">    return &#123;</div><div class="line">      msg: &apos;params page&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">   beforeRouteEnter:(to,from,next)=&gt;&#123;</div><div class="line">    console.log(&quot;准备进入路由模板&quot;);</div><div class="line">    next();</div><div class="line">  &#125;,</div><div class="line">  beforeRouteLeave: (to, from, next) =&gt; &#123;</div><div class="line">    console.log(&quot;准备离开路由模板&quot;);</div><div class="line">    next();</div><div class="line">  &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="在Vue-cli下使用router（11"><a href="#在Vue-cli下使用router（11" class="headerlink" title="在Vue-cli下使用router（11)"></a>在Vue-cli下使用router（11)</h1><h2 id="编程式导航"><a href="#编程式导航" class="headerlink" title="编程式导航"></a>编程式导航</h2><h3 id="前进后退"><a href="#前进后退" class="headerlink" title="前进后退"></a>前进后退</h3><blockquote>
<p>在vue中的业务逻辑中想要跳转采用编程式导航</p>
</blockquote>
<p>App.vue<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;button @click=&quot;goback&quot;&gt;&lt;-&lt;/button&gt;</div><div class="line">&lt;button @click=&quot;goon&quot;&gt;-&gt;&lt;/button&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">export default &#123;</div><div class="line">  name: &apos;App&apos;,</div><div class="line">  methods:&#123;</div><div class="line">    goback()&#123;</div><div class="line">      this.$router.go(-1);</div><div class="line">    &#125;,</div><div class="line">    goon()&#123;</div><div class="line">      this.$router.go(1);</div><div class="line">    &#125;,</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gohome()&#123;</div><div class="line">  this.$router.push(&apos;/&apos;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/代码/">代码</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue，框架/">Vue，框架</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-flex布局" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/10/flex布局/" class="article-date">
      <time datetime="2018-05-10T05:49:59.730Z" itemprop="datePublished">2018-05-10</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/10/flex布局/">flex布局</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="flex布局定义"><a href="#flex布局定义" class="headerlink" title="flex布局定义"></a>flex布局定义</h1><blockquote>
<p>弹性布局，任何容器都可以指定为flex</p>
</blockquote>
<p>webkit内核必须加上-webkit-前缀</p>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><blockquote>
<p>设置为flex的父级元素称为容器，其内容板块称为项目。其中有两根轴线，一条横向，一条纵向。分别设有开始位置和结束位置。</p>
</blockquote>
<h1 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h1><h2 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h2><p>决定项目排列方向，横向（向下、向上），纵向（向下、向上）</p>
<p>属性值：</p>
<blockquote>
<p>row（默认值）：主轴为水平方向，起点在左端。<br>row-reverse：主轴为水平方向，起点在右端。<br>column：主轴为垂直方向，起点在上沿。<br>column-reverse：主轴为垂直方向，起点在下沿。 </p>
</blockquote>
<h2 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h2><p>flex-wrap属性定义，如果一条轴线排不下，如何换行</p>
<p>属性值：</p>
<blockquote>
<p>nowrap（默认）：不换行。<br>wrap：换行，第一行在上方。<br>wrap-reverse：换行，第一行在下方。</p>
</blockquote>
<h2 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h2><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.box &#123;</div><div class="line">  flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h2><p>justify-content属性定义了项目在主轴上的对齐方式。</p>
<blockquote>
<p>flex-start（默认值）：左对齐<br>flex-end：右对齐<br>center： 居中<br>space-between：两端对齐，项目之间的间隔都相等。<br>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</p>
</blockquote>
<h2 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a>align-items属性</h2><p>align-items属性定义项目在交叉轴上如何对齐。</p>
<blockquote>
<p>flex-start：交叉轴的起点对齐。<br>flex-end：交叉轴的终点对齐。<br>center：交叉轴的中点对齐。<br>baseline: 项目的第一行文字的基线对齐。<br>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。</p>
</blockquote>
<h1 id="项目的属性"><a href="#项目的属性" class="headerlink" title="项目的属性"></a>项目的属性</h1><h2 id="order"><a href="#order" class="headerlink" title="order"></a>order</h2><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。</p>
<h2 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h2><p>lex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。</p>
<h2 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a>flex-shrink属性</h2><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</p>
<h2 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a>flex-basis属性</h2><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。</p>
<h2 id="align-self属性"><a href="#align-self属性" class="headerlink" title="align-self属性"></a>align-self属性</h2><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。</p>
<h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">	.father&#123;</div><div class="line">		display: flex;</div><div class="line">		background-color: pink;</div><div class="line">		flex-direction: row;</div><div class="line">		flex-wrap:nowrap; </div><div class="line">		justify-content:space-between;</div><div class="line">		align-items:center;</div><div class="line">	&#125;</div><div class="line">	.son&#123;</div><div class="line">		text-align: center;</div><div class="line">		line-height: 100px;</div><div class="line">		width: 100px;</div><div class="line">		height: 100px;</div><div class="line">		margin: 10px;</div><div class="line">		background-color: orange;</div><div class="line">		font-size: 30px;</div><div class="line">		color: white;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;title&gt;flex&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div class=&quot;father&quot;&gt;</div><div class="line">	&lt;div class=&quot;son&quot;&gt;son1&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;son&quot;&gt;son2&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;son&quot;&gt;son3&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;son&quot;&gt;son4&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><img src="http://onm9xh80o.bkt.clouddn.com/flex.PNG" alt="flex"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/css/">css</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css3/">css3</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-vue" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/09/vue/" class="article-date">
      <time datetime="2018-05-09T05:14:03.864Z" itemprop="datePublished">2018-05-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/09/vue/">Vue.js入门笔记</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 最新稳定版本</div><div class="line">$ npm install vue</div><div class="line"># 最新稳定 CSP 兼容版本</div><div class="line">$ npm install vue@csp</div></pre></td></tr></table></figure>
<h1 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h1><ol>
<li>hello world<br>引入：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 开发环境版本，包含了用帮助的命令行警告 --&gt;</div><div class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</div><div class="line"></div><div class="line">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</div><div class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>html:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &#123;&#123; message &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var app = new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello Vue!&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<blockquote>
<p>这样就会在屏幕上输出了’hello vue!’<br>可以通过在console中修改<code>app.message</code>的值来修改输出。</p>
</blockquote>
<ol>
<li>绑定指令示例<br><code>v-bind</code><br>html：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app-2&quot;&gt;</div><div class="line">  &lt;span v-bind:title=&quot;message&quot;&gt;</div><div class="line">    鼠标悬停几秒钟查看此处动态绑定的提示信息！</div><div class="line">  &lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var app2 = new Vue(&#123;</div><div class="line">  el: &apos;#app-2&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;页面加载于 &apos; + new Date().toLocaleString()</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>表示app2的title内容与app2.message内容绑定了。</p>
<p>同样可以用app2.message来更新。</p>
<ol>
<li>条件与循环</li>
</ol>
<p>控制一个元素是否显示<br><code>v-if</code><br>html:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &lt;p v-if=&quot;screen&quot;&gt;lalalalalaal&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var app = new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  data: &#123;</div><div class="line">    screen: false</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>通过screen的值设置是否可见</p>
<p>同样可以通过app.screen来改变其值</p>
<p><code>v-for</code> 指令可以绑定数组的数据来渲染一个项目列表：<br>html:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app-4&quot;&gt;</div><div class="line">  &lt;ol&gt;</div><div class="line">    &lt;li v-for=&quot;todo in todos&quot;&gt;</div><div class="line">      &#123;&#123; todo.text &#125;&#125;</div><div class="line">    &lt;/li&gt;</div><div class="line">  &lt;/ol&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var app4 = new Vue(&#123;</div><div class="line">  el: &apos;#app-4&apos;,</div><div class="line">  data: &#123;</div><div class="line">    todos: [</div><div class="line">      &#123; text: &apos;学习 JavaScript&apos; &#125;,</div><div class="line">      &#123; text: &apos;学习 Vue&apos; &#125;,</div><div class="line">      &#123; text: &apos;整个牛项目&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>会输出一个list列表。<br>通过<code>app4.todos.push({ text: &#39;新项目&#39; })</code>添加新项目。</p>
<ol>
<li>处理用户输入<br><code>v-on</code>指令添加一个事件监听器<br>html:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app-5&quot;&gt;</div><div class="line">  &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;</div><div class="line">  &lt;button v-on:click=&quot;reverseMessage&quot;&gt;逆转消息&lt;/button&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var app5 = new Vue(&#123;</div><div class="line">  el: &apos;#app-5&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello Vue.js!&apos;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    reverseMessage: function () &#123;</div><div class="line">      this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>只更新了应用的状态，而没有动DOM，DOM操作由vue处理。</p>
<p><code>v-molel</code>实现双向绑定<br>html:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">	&lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</div><div class="line">  	&lt;input type=&quot;text&quot; v-model=&quot;message&quot; name=&quot;&quot;&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>js:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var app = new Vue(&#123;</div><div class="line">	  el: &apos;#app&apos;,</div><div class="line">	  data: &#123;</div><div class="line">	    message:&quot;hello vue&quot;</div><div class="line">	  &#125;</div><div class="line">	&#125;)</div></pre></td></tr></table></figure></p>
<p>通过双向数据绑定同步更新message的值。</p>
<ol>
<li>组件化应用构建</li>
</ol>
<blockquote>
<p>组件是 vue 中一个重要的概念，可以通过独立的可复用的组件构建大型项目。</p>
</blockquote>
<p>构建组件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 定义名为 todo-item 的新组件</div><div class="line">Vue.component(&apos;todo-item&apos;, &#123;</div><div class="line">  template: &apos;&lt;li&gt;这是个待办项&lt;/li&gt;&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app-7&quot;&gt;</div><div class="line">  &lt;ol&gt;</div><div class="line">    &lt;!--</div><div class="line">      现在我们为每个 todo-item 提供 todo 对象</div><div class="line">      todo 对象是变量，即其内容可以是动态的。</div><div class="line">      我们也需要为每个组件提供一个“key”，稍后再</div><div class="line">      作详细解释。</div><div class="line">    --&gt;</div><div class="line">    &lt;todo-item</div><div class="line">      v-for=&quot;item in groceryList&quot;</div><div class="line">      v-bind:todo=&quot;item&quot;</div><div class="line">      v-bind:key=&quot;item.id&quot;&gt;</div><div class="line">    &lt;/todo-item&gt;</div><div class="line">  &lt;/ol&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;todo-item&apos;, &#123;</div><div class="line">  props: [&apos;todo&apos;],</div><div class="line">  template: &apos;&lt;li&gt;&#123;&#123; todo.text &#125;&#125;&lt;/li&gt;&apos;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">var app7 = new Vue(&#123;</div><div class="line">  el: &apos;#app-7&apos;,</div><div class="line">  data: &#123;</div><div class="line">    groceryList: [</div><div class="line">      &#123; id: 0, text: &apos;蔬菜&apos; &#125;,</div><div class="line">      &#123; id: 1, text: &apos;奶酪&apos; &#125;,</div><div class="line">      &#123; id: 2, text: &apos;随便其它什么人吃的东西&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Vue实例"><a href="#Vue实例" class="headerlink" title="Vue实例"></a>Vue实例</h1><p>每个 Vue 应用都是通过用 Vue 函数创建一个<code>新的 Vue</code>实例开始的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123;</div><div class="line">  // 选项</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>当一个 Vue 实例被创建时，它向 Vue 的响应式系统中加入了其 data 对象中能找到的所有的属性。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">// 我们的数据对象</div><div class="line">var data = &#123; a: 1 &#125;</div><div class="line"></div><div class="line">// 该对象被加入到一个 Vue 实例中</div><div class="line">var vm = new Vue(&#123;</div><div class="line">  data: data</div><div class="line">&#125;)</div><div class="line"></div><div class="line">// 获得这个实例上的属性</div><div class="line">// 返回源数据中对应的字段</div><div class="line">vm.a == data.a // =&gt; true</div><div class="line"></div><div class="line">// 设置属性也会影响到原始数据</div><div class="line">vm.a = 2</div><div class="line">data.a // =&gt; 2</div><div class="line"></div><div class="line">// ……反之亦然</div><div class="line">data.a = 3</div><div class="line">vm.a // =&gt; 3</div></pre></td></tr></table></figure></p>
<blockquote>
<p>当这些数据改变时，视图会进行重渲染。值得注意的是只有当实例被创建时 data 中存在的属性才是响应式的,所以如果需要一个属性现在暂时没有值，可以先设置初始值为空。</p>
</blockquote>
<p><code>Object.freeze()</code>会阻止响应式，使用了之后无法改变data。</p>
<h2 id="实例其他属性与方法"><a href="#实例其他属性与方法" class="headerlink" title="实例其他属性与方法"></a>实例其他属性与方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var data = &#123; a: 1 &#125;</div><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#example&apos;,</div><div class="line">  data: data</div><div class="line">&#125;)</div><div class="line"></div><div class="line">vm.$data === data // =&gt; true</div><div class="line">vm.$el === document.getElementById(&apos;example&apos;) // =&gt; true</div><div class="line"></div><div class="line">// $watch 是一个实例方法</div><div class="line">vm.$watch(&apos;a&apos;, function (newValue, oldValue) &#123;</div><div class="line">  // 这个回调将在 `vm.a` 改变后调用</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="实例生命周期钩子函数"><a href="#实例生命周期钩子函数" class="headerlink" title="实例生命周期钩子函数"></a>实例生命周期钩子函数</h2><blockquote>
<p>生命周期钩子的 this 上下文指向调用它的 Vue 实例。<br><code>beforeCreate</code>:在实例初始化之后。<br><code>create</code>: 钩子可以用来在一个实例被创建之后执行代码。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  data: &#123;</div><div class="line">    a: 1</div><div class="line">  &#125;,</div><div class="line">  created: function () &#123;</div><div class="line">    // `this` 指向 vm 实例</div><div class="line">    console.log(&apos;a is: &apos; + this.a)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">// =&gt; &quot;a is: 1&quot;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><code>beforeMount</code>：在挂载开始之前被调用：相关的 render 函数首次被调用。<br><code>mounted</code>:el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 mounted 被调用时 vm.$el 也在文档内。<br><code>beforeUpdate</code>:数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。<br><code>updated</code>:由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。<br><code>activated</code>keep-alive 组件激活时调用。<br><code>deactivated</code>keep-alive 组件停用时调用。<br><code>beforeDestory</code>实例销毁之前调用。在这一步，实例仍然完全可用。<br><code>destory</code>Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</p>
<h1 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h1><h2 id="v-once指令"><a href="#v-once指令" class="headerlink" title="v-once指令"></a>v-once指令</h2><p>v-once指令会执行一次性地插值，数据改变时，插值处内容不会更新。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;span v-once&gt;这个将不会改变: &#123;&#123; msg &#125;&#125;&lt;/span&gt;</div></pre></td></tr></table></figure></p>
<h2 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h2><p>v-html可以插入html代码，而非以纯文本形式展现。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;Using mustaches: &#123;&#123; rawHtml &#125;&#125;&lt;/p&gt;</div><div class="line">&lt;p&gt;Using v-html directive: &lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<h2 id="jsvascript表达式"><a href="#jsvascript表达式" class="headerlink" title="jsvascript表达式"></a>jsvascript表达式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; number + 1 &#125;&#125;</div><div class="line"></div><div class="line">&#123;&#123; ok ? &apos;YES&apos; : &apos;NO&apos; &#125;&#125;</div><div class="line"></div><div class="line">&#123;&#123; message.split(&apos;&apos;).reverse().join(&apos;&apos;) &#125;&#125;</div><div class="line"></div><div class="line">&lt;div v-bind:id=&quot;&apos;list-&apos; + id&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><blockquote>
<p>指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。</p>
</blockquote>
<h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><p>v-bind 指令可以用于响应式地更新 HTML 特性<br>缩写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 完整语法 --&gt;</div><div class="line">&lt;a v-bind:href=&quot;url&quot;&gt;...&lt;/a&gt;</div><div class="line"></div><div class="line">&lt;!-- 缩写 --&gt;</div><div class="line">&lt;a :href=&quot;url&quot;&gt;...&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><p>v-on 指令，它用于监听 DOM 事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<p>缩写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 完整语法 --&gt;</div><div class="line">&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;</div><div class="line"></div><div class="line">&lt;!-- 缩写 --&gt;</div><div class="line">&lt;a @click=&quot;doSomething&quot;&gt;...&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<h1 id="计算属性和侦听器"><a href="#计算属性和侦听器" class="headerlink" title="计算属性和侦听器"></a>计算属性和侦听器</h1><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><blockquote>
<p>对于任何复杂逻辑，你都应当使用计算属性。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</div><div class="line">    &lt;p&gt;&#123;&#123;reversedMessage&#125;&#125;&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#example&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello&apos;</div><div class="line">  &#125;,</div><div class="line">  method: &#123;</div><div class="line">    // 计算属性的 getter</div><div class="line">    reversedMessage: function () &#123;</div><div class="line">      // `this` 指向 vm 实例</div><div class="line">      return this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="计算属性的-setter"><a href="#计算属性的-setter" class="headerlink" title="计算属性的 setter"></a>计算属性的 setter</h2><blockquote>
<p>计算属性默认只有 getter ，不过在需要时你也可以提供一个 setter </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">  fullName: &#123;</div><div class="line">    // getter</div><div class="line">    get: function () &#123;</div><div class="line">      return this.firstName + &apos; &apos; + this.lastName</div><div class="line">    &#125;,</div><div class="line">    // setter</div><div class="line">    set: function (newValue) &#123;</div><div class="line">      var names = newValue.split(&apos; &apos;)</div><div class="line">      this.firstName = names[0]</div><div class="line">      this.lastName = names[names.length - 1]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="侦听器"><a href="#侦听器" class="headerlink" title="侦听器"></a>侦听器</h2><blockquote>
<p>当需要在数据变化时执行异步或开销较大的操作时，这个方式是最有用的。</p>
</blockquote>
<h1 id="Class-与-Style-绑定"><a href="#Class-与-Style-绑定" class="headerlink" title="Class 与 Style 绑定"></a>Class 与 Style 绑定</h1><h2 id="绑定-HTML-Class"><a href="#绑定-HTML-Class" class="headerlink" title="绑定 HTML Class"></a>绑定 HTML Class</h2><h3 id="对象语法"><a href="#对象语法" class="headerlink" title="对象语法"></a>对象语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;static&quot;</div><div class="line">     v-bind:class=&quot;&#123; active: isActive, &apos;text-danger&apos;: hasError &#125;&quot;&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">  isActive: true,</div><div class="line">  hasError: false</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>通过boolean值确定active和text-danger是否显示</p>
<p>绑定的数据对象不必内联定义在模板里：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;classObject&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">  classObject: &#123;</div><div class="line">    active: true,</div><div class="line">    &apos;text-danger&apos;: false</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="数组语法"><a href="#数组语法" class="headerlink" title="数组语法"></a>数组语法</h2><blockquote>
<p>我们可以把一个数组传给 v-bind:class，以应用一个 class 列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">  activeClass: &apos;active&apos;,</div><div class="line">  errorClass: &apos;text-danger&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>渲染结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;active text-danger&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h2 id="绑定内联样式"><a href="#绑定内联样式" class="headerlink" title="绑定内联样式"></a>绑定内联样式</h2><p>直接绑定到一个样式对象通常更好，这会让模板更清晰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:style=&quot;styleObject&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">  styleObject: &#123;</div><div class="line">    color: &apos;red&apos;,</div><div class="line">    fontSize: &apos;13px&apos;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="数组语法-1"><a href="#数组语法-1" class="headerlink" title="数组语法"></a>数组语法</h3><p><code>v-bind:style</code> 的数组语法可以将多个样式对象应用到同一个元素上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:style=&quot;[baseStyles, overridingStyles]&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h3 id="多重值"><a href="#多重值" class="headerlink" title="多重值"></a>多重值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div :style=&quot;&#123; display: [&apos;-webkit-box&apos;, &apos;-ms-flexbox&apos;, &apos;flex&apos;] &#125;&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>这样写只会渲染数组中最后一个被浏览器支持的值。在本例中，如果浏览器支持不带浏览器前缀的 flexbox，那么就只会渲染 display: flex。</p>
<h1 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h1><h2 id="v-if与v-else"><a href="#v-if与v-else" class="headerlink" title="v-if与v-else"></a><code>v-if</code>与<code>v-else</code></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;p v-if=&quot;ok&quot;&gt;yes&lt;/p&gt;</div><div class="line">&lt;p v-else&gt;no&lt;/p&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var vm=new Vue(&#123;</div><div class="line">    el:&apos;#app&apos;,</div><div class="line">    data:&#123;</div><div class="line">      ok:false</div><div class="line">    &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>v-else 元素必须紧跟在带 v-if 或者 v-else-if 的元素的后面，否则它将不会被识别。</p>
</blockquote>
<h2 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h2><blockquote>
<p>v-else-if，顾名思义，充当 v-if 的“else-if 块”，可以连续使用</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;div v-if=&quot;type === &apos;A&apos;&quot;&gt;</div><div class="line">  A</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else-if=&quot;type === &apos;B&apos;&quot;&gt;</div><div class="line">  B</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else-if=&quot;type === &apos;C&apos;&quot;&gt;</div><div class="line">  C</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else&gt;</div><div class="line">  Not A/B/C</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>类似于 v-else，v-else-if 也必须紧跟在带 v-if 或者 v-else-if 的元素之后。</p>
</blockquote>
<h2 id="用-key-管理可复用的元素"><a href="#用-key-管理可复用的元素" class="headerlink" title="用 key 管理可复用的元素"></a>用 key 管理可复用的元素</h2><p>Vue 为你提供了一种方式来表达“这两个元素是完全独立的，不要复用它们”。只需添加一个具有唯一值的 key 属性即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;template v-if=&quot;loginType === &apos;username&apos;&quot;&gt;</div><div class="line">  &lt;label&gt;Username&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your username&quot; key=&quot;username-input&quot;&gt;</div><div class="line">&lt;/template&gt;</div><div class="line">&lt;template v-else&gt;</div><div class="line">  &lt;label&gt;Email&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your email address&quot; key=&quot;email-input&quot;&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
<h2 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>不同的是带有 v-show 的元素始终会被渲染并保留在 DOM 中。v-show 只是简单地切换元素的 CSS 属性 display。</p>
</blockquote>
<h2 id="v-if-vs-v-show"><a href="#v-if-vs-v-show" class="headerlink" title="v-if vs v-show"></a>v-if vs v-show</h2><p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。<br><code>v-if</code> 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。<br><code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。<br><code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。<br>因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好。</p>
<h1 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>在 <code>v-for</code> 块中，我们拥有对父作用域属性的完全访问权限。v-for 还支持一个可选的第二个参数为当前项的索引。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&quot;example-2&quot;&gt;</div><div class="line">  &lt;li v-for=&quot;(item, index) in items&quot;&gt;</div><div class="line">    &#123;&#123; parentMessage &#125;&#125; - &#123;&#123; index &#125;&#125; - &#123;&#123; item.message &#125;&#125;</div><div class="line">  &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var example2 = new Vue(&#123;</div><div class="line">  el: &apos;#example-2&apos;,</div><div class="line">  data: &#123;</div><div class="line">    parentMessage: &apos;Parent&apos;,</div><div class="line">    items: [</div><div class="line">      &#123; message: &apos;Foo&apos; &#125;,</div><div class="line">      &#123; message: &apos;Bar&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">parent-0-Foo</div><div class="line">parent-1-Bar</div></pre></td></tr></table></figure></p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>你也可以用 v-for 通过一个对象的属性来迭代。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;ul id=&quot;v-for-object&quot; class=&quot;demo&quot;&gt;</div><div class="line">  &lt;li v-for=&quot;value in object&quot;&gt;</div><div class="line">    &#123;&#123; value &#125;&#125;</div><div class="line">  &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#v-for-object&apos;,</div><div class="line">  data: &#123;</div><div class="line">    object: &#123;</div><div class="line">      firstName: &apos;John&apos;,</div><div class="line">      lastName: &apos;Doe&apos;,</div><div class="line">      age: 30</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">John</div><div class="line">Doe </div><div class="line">30</div></pre></td></tr></table></figure></p>
<p>你也可以提供第二个的参数为键名：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div v-for=&quot;(value, key) in object&quot;&gt;</div><div class="line">  &#123;&#123; key &#125;&#125;: &#123;&#123; value &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">firstName: John</div><div class="line">lastName: Doe</div><div class="line">age: 30</div></pre></td></tr></table></figure></p>
<p>第三个参数为索引：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div v-for=&quot;(value, key, index) in object&quot;&gt;</div><div class="line">  &#123;&#123; index &#125;&#125;. &#123;&#123; key &#125;&#125;: &#123;&#123; value &#125;&#125;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li>建议尽可能在使用 v-for 时提供 key，除非遍历输出的 DOM 内容非常简单，或者是刻意依赖默认行为以获取性能上的提升。</li>
</ul>
<h2 id="显示过滤-排序结果"><a href="#显示过滤-排序结果" class="headerlink" title="显示过滤/排序结果"></a>显示过滤/排序结果</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;li v-for=&quot;n in evenNumbers&quot;&gt;&#123;&#123; n &#125;&#125;&lt;/li&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">  numbers: [ 1, 2, 3, 4, 5 ]</div><div class="line">&#125;,</div><div class="line">computed: &#123;</div><div class="line">  evenNumbers: function () &#123;</div><div class="line">    return this.numbers.filter(function (number) &#123;</div><div class="line">      return number % 2 === 0</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="v-for-with-v-if"><a href="#v-for-with-v-if" class="headerlink" title="v-for with v-if"></a>v-for with v-if</h2><p>当它们处于同一节点，v-for 的优先级比 v-if 更高，这意味着 v-if 将分别重复运行于每个 v-for 循环中。当你想为仅有的一些项渲染节点时，这种优先级的机制会十分有用</p>
<h1 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h1><p>可以用 v-on 指令监听 DOM 事件，并在触发时运行一些 JavaScript 代码。</p>
<p>然而许多事件处理逻辑会更为复杂，所以直接把 JavaScript 代码写在 v-on 指令中是不可行的。因此 v-on 还可以接收一个需要调用的方法名称。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;button v-on:click=&quot;greet&quot;&gt;Add 1&lt;/button&gt;</div><div class="line">    &lt;p&gt;The button above has been clicked &#123;&#123; c &#125;&#125; times.&lt;/p&gt;</div><div class="line">  </div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">var vm=new Vue(&#123;</div><div class="line">    el:&apos;#app&apos;,</div><div class="line">    data:&#123;</div><div class="line">      c:1</div><div class="line">    &#125;,</div><div class="line">    methods:&#123;</div><div class="line">      greet: function (event) &#123;</div><div class="line">      // `this` 在方法里指向当前 Vue 实例</div><div class="line">      alert(&apos;Hello &apos; + this.c + &apos;!&apos;)</div><div class="line">      // `event` 是原生 DOM 事件</div><div class="line">      if (event) &#123;</div><div class="line">        alert(event.target.tagName)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">  vm.greet();</div></pre></td></tr></table></figure>
<h2 id="内联处理器中的方法"><a href="#内联处理器中的方法" class="headerlink" title="内联处理器中的方法"></a>内联处理器中的方法</h2><p>除了直接绑定到一个方法，也可以在内联 JavaScript 语句中调用方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;example-3&quot;&gt;</div><div class="line">  &lt;button v-on:click=&quot;say(&apos;hi&apos;)&quot;&gt;Say hi&lt;/button&gt;</div><div class="line">  &lt;button v-on:click=&quot;say(&apos;what&apos;)&quot;&gt;Say what&lt;/button&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#example-3&apos;,</div><div class="line">  methods: &#123;</div><div class="line">    say: function (message) &#123;</div><div class="line">      alert(message)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><code>$event</code>访问原始的 DOM 事件。</p>
<h2 id="v-on的事件修饰符"><a href="#v-on的事件修饰符" class="headerlink" title="v-on的事件修饰符"></a>v-on的事件修饰符</h2><ul>
<li><code>.stop</code>阻止单击事件继续传播</li>
<li><code>.prevent</code></li>
<li><code>.capture</code></li>
<li><code>.self</code></li>
<li><code>.once</code>只能触发一次</li>
<li><code>.passive</code>这个 .passive 修饰符尤其能够提升移动端的性能</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 阻止单击事件继续传播 --&gt;</div><div class="line">&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;</div><div class="line"></div><div class="line">&lt;!-- 提交事件不再重载页面 --&gt;</div><div class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</div><div class="line"></div><div class="line">&lt;!-- 修饰符可以串联 --&gt;</div><div class="line">&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;</div><div class="line"></div><div class="line">&lt;!-- 只有修饰符 --&gt;</div><div class="line">&lt;form v-on:submit.prevent&gt;&lt;/form&gt;</div><div class="line"></div><div class="line">&lt;!-- 添加事件监听器时使用事件捕获模式 --&gt;</div><div class="line">&lt;!-- 即元素自身触发的事件先在此处处理，然后才交由内部元素进行处理 --&gt;</div><div class="line">&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;!-- 只当在 event.target 是当前元素自身时触发处理函数 --&gt;</div><div class="line">&lt;!-- 即事件不是从内部元素触发的 --&gt;</div><div class="line">&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 只有在 `keyCode` 是 13 时调用 `vm.submit()` --&gt;</div><div class="line">&lt;input v-on:keyup.13=&quot;submit&quot;&gt;</div></pre></td></tr></table></figure>
<p>按键别名：<br><code>.enter</code><br><code>.tab</code><br><code>.delete</code> (捕获“删除”和“退格”键)<br><code>.esc</code><br><code>.space</code><br><code>.up</code><br><code>.down</code><br><code>.left</code><br><code>.right</code></p>
<ul>
<li>可以通过全局 config.keyCodes 对象自定义按键修饰符别名：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 可以使用 `v-on:keyup.f1`</div><div class="line">Vue.config.keyCodes.f1 = 112</div></pre></td></tr></table></figure>
</li>
</ul>
<p>可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。</p>
<ul>
<li><code>.ctrl</code></li>
<li><code>.alt</code></li>
<li><code>.shift</code></li>
<li><code>.meta</code></li>
</ul>
<blockquote>
<p>只有在按下以上键和其他键或鼠标点击时才会触发</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- Alt + C --&gt;</div><div class="line">&lt;input @keyup.alt.67=&quot;clear&quot;&gt;</div><div class="line"></div><div class="line">&lt;!-- Ctrl + Click --&gt;</div><div class="line">&lt;div @click.ctrl=&quot;doSomething&quot;&gt;Do something&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="exact-修饰符"><a href="#exact-修饰符" class="headerlink" title=".exact 修饰符"></a><code>.exact</code> 修饰符</h2><p>.exact 修饰符允许你控制由精确的系统修饰符组合触发的事件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 即使 Alt 或 Shift 被一同按下时也会触发 --&gt;</div><div class="line">&lt;button @click.ctrl=&quot;onClick&quot;&gt;A&lt;/button&gt;</div><div class="line"></div><div class="line">&lt;!-- 有且只有 Ctrl 被按下的时候才触发 --&gt;</div><div class="line">&lt;button @click.ctrl.exact=&quot;onCtrlClick&quot;&gt;A&lt;/button&gt;</div><div class="line"></div><div class="line">&lt;!-- 没有任何系统修饰符被按下的时候才触发 --&gt;</div><div class="line">&lt;button @click.exact=&quot;onClick&quot;&gt;A&lt;/button&gt;</div></pre></td></tr></table></figure>
<h2 id="鼠标按钮修饰符"><a href="#鼠标按钮修饰符" class="headerlink" title="鼠标按钮修饰符"></a>鼠标按钮修饰符</h2><ul>
<li><code>.left</code></li>
<li><code>.right</code></li>
<li><code>.middle</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;button v-on:click.middle=&quot;greet&quot;&gt;Add 1&lt;/button&gt;</div></pre></td></tr></table></figure>
<h2 id="使用-v-on-有几个好处"><a href="#使用-v-on-有几个好处" class="headerlink" title="使用 v-on 有几个好处"></a>使用 v-on 有几个好处</h2><ol>
<li><p>扫一眼 HTML 模板便能轻松定位在 JavaScript 代码里对应的方法。</p>
</li>
<li><p>因为你无须在 JavaScript 里手动绑定事件，你的 ViewModel 代码可以是非常纯粹的逻辑，和 DOM 完全解耦，更易于测试。</p>
</li>
<li><p>当一个 ViewModel 被销毁时，所有的事件处理器都会自动被删除。你无须担心如何自己清理它们。</p>
</li>
</ol>
<h1 id="表单输入绑定"><a href="#表单输入绑定" class="headerlink" title="表单输入绑定"></a>表单输入绑定</h1><p><code>v-model</code></p>
<blockquote>
<p>你可以用 <code>v-model</code> 指令在表单 <code>&lt;input&gt;</code> 及 <code>&lt;textarea&gt;</code> 元素上创建双向数据绑定。它负责监听用户的输入事件以更新数据，并对一些极端场景进行一些特殊处理。</p>
</blockquote>
<p>v-model 会忽略所有表单元素的 value、checked、selected 特性的初始值而总是将 Vue 实例的数据作为数据来源。你应该通过 JavaScript 在组件的 data 选项中声明初始值。</p>
<h2 id="input"><a href="#input" class="headerlink" title="input"></a>input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;input v-model=&quot;message&quot; placeholder=&quot;edit me&quot;&gt;</div><div class="line">&lt;p&gt;Message is: &#123;&#123; message &#125;&#125;&lt;/p&gt;</div></pre></td></tr></table></figure>
<h2 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h2><ol>
<li><p>单个复选框绑定布尔值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;input type=&quot;checkbox&quot; id=&quot;checkbox&quot; v-model=&quot;checked&quot;&gt;</div><div class="line">   &lt;label for=&quot;checkbox&quot;&gt;&#123;&#123; checked &#125;&#125;&lt;/label&gt;</div><div class="line">  </div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>多个复选框，绑定到同一个数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&apos;example-3&apos;&gt;</div><div class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;jack&quot; value=&quot;Jack&quot; v-model=&quot;checkedNames&quot;&gt;</div><div class="line">  &lt;label for=&quot;jack&quot;&gt;Jack&lt;/label&gt;</div><div class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;john&quot; value=&quot;John&quot; v-model=&quot;checkedNames&quot;&gt;</div><div class="line">  &lt;label for=&quot;john&quot;&gt;John&lt;/label&gt;</div><div class="line">  &lt;input type=&quot;checkbox&quot; id=&quot;mike&quot; value=&quot;Mike&quot; v-model=&quot;checkedNames&quot;&gt;</div><div class="line">  &lt;label for=&quot;mike&quot;&gt;Mike&lt;/label&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;span&gt;Checked names: &#123;&#123; checkedNames &#125;&#125;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#example-3&apos;,</div><div class="line">  data: &#123;</div><div class="line">    checkedNames: []</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ol>
<li>单选按钮<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;example-4&quot;&gt;</div><div class="line">  &lt;input type=&quot;radio&quot; id=&quot;one&quot; value=&quot;One&quot; v-model=&quot;picked&quot;&gt;</div><div class="line">  &lt;label for=&quot;one&quot;&gt;One&lt;/label&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;input type=&quot;radio&quot; id=&quot;two&quot; value=&quot;Two&quot; v-model=&quot;picked&quot;&gt;</div><div class="line">  &lt;label for=&quot;two&quot;&gt;Two&lt;/label&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;span&gt;Picked: &#123;&#123; picked &#125;&#125;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#example-4&apos;,</div><div class="line">  data: &#123;</div><div class="line">    picked: &apos;&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ol>
<li>选择框<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;example-5&quot;&gt;</div><div class="line">  &lt;select v-model=&quot;selected&quot;&gt;</div><div class="line">    &lt;option disabled value=&quot;&quot;&gt;请选择&lt;/option&gt;</div><div class="line">    &lt;option&gt;A&lt;/option&gt;</div><div class="line">    &lt;option&gt;B&lt;/option&gt;</div><div class="line">    &lt;option&gt;C&lt;/option&gt;</div><div class="line">  &lt;/select&gt;</div><div class="line">  &lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;...&apos;,</div><div class="line">  data: &#123;</div><div class="line">    selected: &apos;&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>多选：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;example-6&quot;&gt;</div><div class="line">  &lt;select v-model=&quot;selected&quot; multiple style=&quot;width: 50px;&quot;&gt;</div><div class="line">    &lt;option&gt;A&lt;/option&gt;</div><div class="line">    &lt;option&gt;B&lt;/option&gt;</div><div class="line">    &lt;option&gt;C&lt;/option&gt;</div><div class="line">  &lt;/select&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  &lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#example-6&apos;,</div><div class="line">  data: &#123;</div><div class="line">    selected: []</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="v-modle-v-for"><a href="#v-modle-v-for" class="headerlink" title="v-modle + v-for"></a>v-modle + v-for</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;select v-model=&quot;selected&quot;&gt;</div><div class="line">  &lt;option v-for=&quot;option in options&quot; v-bind:value=&quot;option.value&quot;&gt;</div><div class="line">    &#123;&#123; option.text &#125;&#125;</div><div class="line">  &lt;/option&gt;</div><div class="line">&lt;/select&gt;</div><div class="line">&lt;span&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/span&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;...&apos;,</div><div class="line">  data: &#123;</div><div class="line">    selected: &apos;A&apos;,</div><div class="line">    options: [</div><div class="line">      &#123; text: &apos;One&apos;, value: &apos;A&apos; &#125;,</div><div class="line">      &#123; text: &apos;Two&apos;, value: &apos;B&apos; &#125;,</div><div class="line">      &#123; text: &apos;Three&apos;, value: &apos;C&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="值绑定"><a href="#值绑定" class="headerlink" title="值绑定"></a>值绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;select v-model=&quot;selected&quot;&gt;</div><div class="line">    &lt;!-- 内联对象字面量 --&gt;</div><div class="line">  &lt;option v-bind:value=&quot;&#123; number: 123 &#125;&quot;&gt;123&lt;/option&gt;</div><div class="line">&lt;/select&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 当选中时</div><div class="line">typeof vm.selected // =&gt; &apos;object&apos;</div><div class="line">vm.selected.number // =&gt; 123</div></pre></td></tr></table></figure>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><h3 id="lazy"><a href="#lazy" class="headerlink" title=".lazy"></a>.lazy</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 在“change”时而非“input”时更新 --&gt;</div><div class="line">&lt;input v-model.lazy=&quot;msg&quot; &gt;</div></pre></td></tr></table></figure>
<h3 id="number"><a href="#number" class="headerlink" title=".number"></a>.number</h3><p>如果想自动将用户的输入值转为数值类型，可以给 v-model 添加 number 修饰符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input v-model.number=&quot;age&quot; type=&quot;number&quot;&gt;</div></pre></td></tr></table></figure></p>
<h3 id="trim"><a href="#trim" class="headerlink" title=".trim"></a>.trim</h3><p>如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 trim 修饰符</p>
<h1 id="组件基础"><a href="#组件基础" class="headerlink" title="组件基础"></a>组件基础</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// 定义一个名为 button-counter 的新组件</div><div class="line">Vue.component(&apos;button-counter&apos;, &#123;</div><div class="line">  data: function () &#123;</div><div class="line">    return &#123;</div><div class="line">      count: 0</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  template: &apos;&lt;button v-on:click=&quot;count++&quot;&gt;You clicked me &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&apos;</div><div class="line">&#125;);</div><div class="line">new Vue(&#123; el: &apos;#app&apos; &#125;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;components-demo&quot;&gt;</div><div class="line">  &lt;button-counter&gt;&lt;/button-counter&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>对于组件，data必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝。否则，多次实例化后组件之间会相互影响。</p>
</blockquote>
<h2 id="两种组件"><a href="#两种组件" class="headerlink" title="两种组件"></a>两种组件</h2><ul>
<li>全局注册和局部注册</li>
</ul>
<h2 id="Prop"><a href="#Prop" class="headerlink" title="Prop"></a>Prop</h2><p>Prop 是你可以在组件上注册的一些自定义特性。当一个值传递给一个 prop 特性的时候，它就变成了那个组件实例的一个属性。为了给博文组件传递一个标题，我们可以用一个 props 选项将其包含在该组件可接受的 prop 列表中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;blog-post&apos;, &#123;</div><div class="line">  props: [&apos;title&apos;],</div><div class="line">  template: &apos;&lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="单个根元素"><a href="#单个根元素" class="headerlink" title="单个根元素"></a>单个根元素</h2><p>每个组件必须只有一个根元素,可以将模板的内容包裹在一个父元素内，来修复这个问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;blog-post&quot;&gt;</div><div class="line">  &lt;h3&gt;&#123;&#123; post.title &#125;&#125;&lt;/h3&gt;</div><div class="line">  &lt;div v-html=&quot;post.content&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h2 id="通过事件向父级组件发送消息"><a href="#通过事件向父级组件发送消息" class="headerlink" title="通过事件向父级组件发送消息"></a>通过事件向父级组件发送消息</h2><p>例如要引入一个可访问性的功能来放大博文的字号，同时让页面的其它部分保持默认的字号。</p>
<ol>
<li><p>在父组件中，添加一个<code>postFontSize</code>数据属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#blog-posts-events-demo&apos;,</div><div class="line">  data: &#123;</div><div class="line">    posts: [/* ... */],</div><div class="line">    postFontSize: 1</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;blog-posts-events-demo&quot;&gt;</div><div class="line">  &lt;div :style=&quot;&#123; fontSize: postFontSize + &apos;em&apos; &#125;&quot;&gt;</div><div class="line">    &lt;blog-post</div><div class="line">      v-for=&quot;post in posts&quot;</div><div class="line">      v-bind:key=&quot;post.id&quot;</div><div class="line">      v-bind:post=&quot;post&quot;</div><div class="line">    &gt;&lt;/blog-post&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>模板（templete）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;blog-post&apos;, &#123;</div><div class="line">  props: [&apos;post&apos;],</div><div class="line">  template: `</div><div class="line">    &lt;div class=&quot;blog-post&quot;&gt;</div><div class="line">      &lt;h3&gt;&#123;&#123; post.title &#125;&#125;&lt;/h3&gt;</div><div class="line">      &lt;button&gt;</div><div class="line">        Enlarge text</div><div class="line">      &lt;/button&gt;</div><div class="line">      &lt;div v-html=&quot;post.content&quot;&gt;&lt;/div&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">  `</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>我们可以调用内建的 $emit 方法并传入事件的名字，来向父级组件触发一个事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;button v-on:click=&quot;$emit(&apos;enlarge-text&apos;)&quot;&gt;</div><div class="line">  Enlarge text</div><div class="line">&lt;/button&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>然后我们可以用 v-on 在博文组件上监听这个事件，就像监听一个原生 DOM 事件一样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;blog-post</div><div class="line">  ...</div><div class="line">  v-on:enlarge-text=&quot;postFontSize += 0.1&quot;</div><div class="line">&gt;&lt;/blog-post&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="使用事件抛出一个值"><a href="#使用事件抛出一个值" class="headerlink" title="使用事件抛出一个值"></a>使用事件抛出一个值</h2><p>有的时候用一个事件来抛出一个特定的值是非常有用的。例如我们可能想让 <code>&lt;blog-post&gt;</code>组件决定它的文本要放大多少。这时可以使用 $emit 的第二个参数来提供这个值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;button v-on:click=&quot;$emit(&apos;enlarge-text&apos;, 0.1)&quot;&gt;</div><div class="line">  Enlarge text</div><div class="line">&lt;/button&gt;</div></pre></td></tr></table></figure>
<p>然后当在父级组件监听这个事件的时候，我们可以通过 $event 访问到被抛出的这个值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;blog-post</div><div class="line">  ...</div><div class="line">  v-on:enlarge-text=&quot;postFontSize += $event&quot;</div><div class="line">&gt;&lt;/blog-post&gt;</div></pre></td></tr></table></figure></p>
<h2 id="通过插槽分发内容"><a href="#通过插槽分发内容" class="headerlink" title="通过插槽分发内容"></a>通过插槽分发内容</h2><p><code>&lt;slot&gt;</code></p>
<h2 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h2><p>切换不同的组件</p>
<h1 id="深入了解组件"><a href="#深入了解组件" class="headerlink" title="深入了解组件"></a>深入了解组件</h1><h2 id="注册组件"><a href="#注册组件" class="headerlink" title="注册组件"></a>注册组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;my-component-name&apos;, &#123; /* ... */ &#125;)</div></pre></td></tr></table></figure>
<h3 id="组件命名"><a href="#组件命名" class="headerlink" title="组件命名"></a>组件命名</h3><ol>
<li>使用短横线分隔命名时（my-component-name），使用时也必须这样使用</li>
<li>使用驼峰式命名时（MyComponentName）， <code>&lt;my-component-name&gt;</code>和 <code>&lt;MyComponentName&gt;</code> 都是可接受的</li>
</ol>
<h3 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;my-component-name&apos;, &#123;</div><div class="line">  // ... 选项 ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这些组件是全局注册的。也就是说它们在注册之后可以用在任何新创建的 Vue 根实例 (new Vue) 的模板中。</p>
<h3 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h3><p>你可以通过一个普通的 JavaScript 对象来定义组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var ComponentA = &#123; /* ... */ &#125;</div><div class="line">var ComponentB = &#123; /* ... */ &#125;</div><div class="line">var ComponentC = &#123; /* ... */ &#125;</div></pre></td></tr></table></figure></p>
<p>在component中定义你需要使用的组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;</div><div class="line">  components: &#123;</div><div class="line">    &apos;component-a&apos;: ComponentA,</div><div class="line">    &apos;component-b&apos;: ComponentB</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<ul>
<li>注意局部注册的组件在其子组件中不可用。</li>
</ul>
<p>如果你希望 ComponentA 在 ComponentB 中可用，则你需要这样写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var ComponentA = &#123; /* ... */ &#125;</div><div class="line"></div><div class="line">var ComponentB = &#123;</div><div class="line">  components: &#123;</div><div class="line">    &apos;component-a&apos;: ComponentA</div><div class="line">  &#125;,</div><div class="line">  // ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Prop-1"><a href="#Prop-1" class="headerlink" title="Prop"></a>Prop</h2><h3 id="静态的和动态的Prop"><a href="#静态的和动态的Prop" class="headerlink" title="静态的和动态的Prop"></a>静态的和动态的Prop</h3><p>像这样，你已经知道了可以像这样给 prop 传入一个静态的值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;blog-post title=&quot;My journey with Vue&quot;&gt;&lt;/blog-post&gt;</div></pre></td></tr></table></figure></p>
<p>你也知道 prop 可以通过 v-bind 动态赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;blog-post v-bind:title=&quot;post.title&quot;&gt;&lt;/blog-post&gt;</div></pre></td></tr></table></figure></p>
<h3 id="Prop验证"><a href="#Prop验证" class="headerlink" title="Prop验证"></a>Prop验证</h3><p>为了定制 prop 的验证方式，你可以为 props 中的值提供一个带有验证需求的对象，而不是一个字符串数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;my-component&apos;, &#123;</div><div class="line">  props: &#123;</div><div class="line">    // 基础的类型检查 (`null` 匹配任何类型)</div><div class="line">    propA: Number,</div><div class="line">    // 多个可能的类型</div><div class="line">    propB: [String, Number],</div><div class="line">    // 必填的字符串</div><div class="line">    propC: &#123;</div><div class="line">      type: String,</div><div class="line">      required: true</div><div class="line">    &#125;,</div><div class="line">    // 带有默认值的数字</div><div class="line">    propD: &#123;</div><div class="line">      type: Number,</div><div class="line">      default: 100</div><div class="line">    &#125;,</div><div class="line">    // 带有默认值的对象</div><div class="line">    propE: &#123;</div><div class="line">      type: Object,</div><div class="line">      // 对象或数组且一定会从一个工厂函数返回默认值</div><div class="line">      default: function () &#123;</div><div class="line">        return &#123; message: &apos;hello&apos; &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    // 自定义验证函数</div><div class="line">    propF: &#123;</div><div class="line">      validator: function (value) &#123;</div><div class="line">        // 这个值必须匹配下列字符串中的一个</div><div class="line">        return [&apos;success&apos;, &apos;warning&apos;, &apos;danger&apos;].indexOf(value) !== -1</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>类型检查：</p>
<ul>
<li><code>String</code></li>
<li><code>Number</code></li>
<li><code>Boolean</code></li>
<li><code>Function</code></li>
<li><code>Object</code></li>
<li><code>Array</code></li>
<li><code>Symbol</code></li>
</ul>
<p>自定义构造函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function Person (firstName, lastName) &#123;</div><div class="line">  this.firstName = firstName</div><div class="line">  this.lastName = lastName</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;blog-post&apos;, &#123;</div><div class="line">  props: &#123;</div><div class="line">    author: Person</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>来验证 author prop 的值是否是通过 new Person 创建的。</p>
<h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><h3 id="事件名"><a href="#事件名" class="headerlink" title="事件名"></a>事件名</h3><blockquote>
<p>推荐始终使用 kebab-case 的事件名。</p>
</blockquote>
<h3 id="将原生事件绑定到组件"><a href="#将原生事件绑定到组件" class="headerlink" title="将原生事件绑定到组件"></a>将原生事件绑定到组件</h3><p><code>v-on</code> 的 <code>.native</code> 修饰符</p>
<p><code>$listener</code>属性配合 v-on=”$listeners” 将所有的事件监听器指向这个组件的某个特定的子元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;base-input&apos;, &#123;</div><div class="line">  inheritAttrs: false,</div><div class="line">  props: [&apos;label&apos;, &apos;value&apos;],</div><div class="line">  computed: &#123;</div><div class="line">    inputListeners: function () &#123;</div><div class="line">      var vm = this</div><div class="line">      // `Object.assign` 将所有的对象合并为一个新对象</div><div class="line">      return Object.assign(&#123;&#125;,</div><div class="line">        // 我们从父级添加所有的监听器</div><div class="line">        this.$listeners,</div><div class="line">        // 然后我们添加自定义监听器，</div><div class="line">        // 或覆写一些监听器的行为</div><div class="line">        &#123;</div><div class="line">          // 这里确保组件配合 `v-model` 的工作</div><div class="line">          input: function (event) &#123;</div><div class="line">            vm.$emit(&apos;input&apos;, event.target.value)</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      )</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  template: </div><div class="line">    &lt;label&gt;</div><div class="line">      &#123;&#123; label &#125;&#125;</div><div class="line">      &lt;input</div><div class="line">        v-bind=&quot;$attrs&quot;</div><div class="line">        v-bind:value=&quot;value&quot;</div><div class="line">        v-on=&quot;inputListeners&quot;</div><div class="line">      &gt;</div><div class="line">    &lt;/label&gt;</div><div class="line">  </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><p>Vue 实现了一套内容分发的 API， <code>&lt;slot&gt;</code> 元素作为承载分发内容的出口。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   </div><div class="line"> &lt;navigation-link url=&quot;/profile&quot;&gt;</div><div class="line">  Your Profile</div><div class="line">&lt;/navigation-link&gt;</div><div class="line">  </div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</div><div class="line">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">Vue.component(&apos;navigation-link&apos;, &#123;</div><div class="line">  props: [&apos;url&apos;],</div><div class="line">  template: &apos;&lt;a v-bind:href=&quot;url&quot; class=&quot;nav-link&quot;&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/a&gt;&apos;</div><div class="line">&#125;);</div><div class="line">new Vue(&#123; el: &apos;#app&apos; ,</div><div class="line">data: &#123;</div><div class="line">    url : &quot;111&quot;</div><div class="line">  &#125;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<p>当组件渲染的时候，这个 <code>&lt;slot&gt;</code> 元素将会被替换为“Your Profile”。插槽内可以包含任何模板代码，包括 HTML,甚至其它的组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;navigation-link url=&quot;/profile&quot;&gt;</div><div class="line">  &lt;!-- 添加一个图标的组件 --&gt;</div><div class="line">  &lt;font-awesome-icon name=&quot;user&quot;&gt;&lt;/font-awesome-icon&gt;</div><div class="line">  Your Profile</div><div class="line">&lt;/navigation-link&gt;</div></pre></td></tr></table></figure></p>
<p>如果 <code>&lt;navigation-link&gt;</code> 没有包含一个 <code>&lt;slot&gt;</code> 元素，则任何传入它的内容都会被抛弃。</p>
<h3 id="默认插槽的内容"><a href="#默认插槽的内容" class="headerlink" title="默认插槽的内容"></a>默认插槽的内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;button type=&quot;submit&quot;&gt;</div><div class="line">  &lt;slot&gt;Submit&lt;/slot&gt;</div><div class="line">&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="插槽作用域"><a href="#插槽作用域" class="headerlink" title="插槽作用域"></a>插槽作用域</h3><blockquote>
<p>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;navigation-link url=&quot;/profile&quot;&gt;</div><div class="line">  Logged in as &#123;&#123; user.name &#125;&#125;</div><div class="line">&lt;/navigation-link&gt;</div></pre></td></tr></table></figure>
<p>这个插槽不能访问 <code>&lt;navigation-link&gt;</code> 的作用域。例如尝试访问 url 是不会工作的。</p>
<h2 id="动态组件-amp-异步组件"><a href="#动态组件-amp-异步组件" class="headerlink" title="动态组件 &amp; 异步组件"></a>动态组件 &amp; 异步组件</h2><h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 失活的组件将会被缓存！--&gt;</div><div class="line">&lt;keep-alive&gt;</div><div class="line">  &lt;component v-bind:is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</div><div class="line">&lt;/keep-alive&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>使切换时组件保持切换前的状态</p>
</blockquote>
<h3 id="异步组件"><a href="#异步组件" class="headerlink" title="异步组件"></a>异步组件</h3><blockquote>
<p>Vue 只有在这个组件需要被渲染的时候才会被触发，且会把结果缓存起来供未来重渲染。</p>
</blockquote>
<h2 id="递归组件"><a href="#递归组件" class="headerlink" title="递归组件"></a>递归组件</h2><p>组件是可以在它们自己的模板中调用自身的。不过它们只能通过 name 选项来做这件事<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">name: &apos;unique-name-of-my-component&apos;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;unique-name-of-my-component&apos;, &#123;</div><div class="line">  // ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">name: &apos;stack-overflow&apos;,</div><div class="line">template: &apos;&lt;div&gt;&lt;stack-overflow&gt;&lt;/stack-overflow&gt;&lt;/div&gt;&apos;</div></pre></td></tr></table></figure>
<ul>
<li>会触发<code>max stack size exceeded</code>错误，所以请确保递归调用是条件性的 (例如使用一个最终会得到 false 的 v-if)。</li>
</ul>
<h2 id="X-Templates"><a href="#X-Templates" class="headerlink" title="X-Templates"></a>X-Templates</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/x-template&quot; id=&quot;hello-world-template&quot;&gt;</div><div class="line">  &lt;p&gt;Hello hello hello&lt;/p&gt;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;hello-world&apos;, &#123;</div><div class="line">  template: &apos;#hello-world-template&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Vue-js/">Vue.js</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-react入门" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/05/07/react入门/" class="article-date">
      <time datetime="2018-05-07T08:57:19.163Z" itemprop="datePublished">2018-05-07</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/05/07/react入门/">React入门笔记</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/React/">React</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 你家谷谷
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
    </div>
</footer>

    </div>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>